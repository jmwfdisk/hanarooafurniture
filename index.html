<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="하나로오에이퍼니처 - 조달 우수제품과 일반제품 소개">
    <meta name="keywords" content="하나로오에이퍼니처, 조달 우수제품, MAS, 가구, 사무가구">
    <title>하나로오에이퍼니처</title>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    
    <!-- SheetJS 라이브러리 (엑셀 파일 읽기용) -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    
    <!-- Tabulator.js 라이브러리 (스프레드시트 뷰용) -->
    <link href="./hanaro/school/lib/tabulator/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="./hanaro/school/lib/tabulator/tabulator.min.js"></script>

    <link rel="icon" href="./image/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="./image/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="./image/favicon.png">
    
    <!-- 공통 디자인 시스템 CSS -->
    <link rel="stylesheet" href="./hanaro/css/common.css">

    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #ffffff;
            color: #000000;
            text-align: center;
            overflow-x: auto;
        }

        .navbar {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 5px 5px;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            z-index: 1000;
            height: 78px;
            transition: all 0.3s ease;
        }

        .navbar > .logo {
            margin-right: auto; /* 로고와 나머지 항목 간 여백 */
        }
        
        .navbar .logo a {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: #000;
        }
        
        .navbar .logo img {
            height: 50px;
            overflow: visible;
        }
        
        .navbar .logo a {
            pointer-events: none;
            cursor: default;
        }
        
        .navbar .logo span {
            font-size: 18px;
            font-weight: bold;
            white-space: nowrap;
        }

        .navbar > div {
            position: relative;
        }

        .navbar > div > a {
            margin: 13px 4px !important;
            font-size: 18px !important;
            font-weight: 600;
            letter-spacing: -0.5px;
            text-decoration: none;
            color: #212529;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            white-space: nowrap;
            position: relative;
            padding: 8px 12px;
            border-radius: 8px;
        }

        .navbar > div > a:hover {
            color: #44aa6b;
            background: rgba(68, 170, 107, 0.08);
        }

        .body {
            overflow-x: auto; /* 수평 스크롤 활성화 */
        }

        .main2-section {
            position: relative;
            width: 100%;
            height: 70vh;
            min-height: 500px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-align: center;
        }

        .main2-section video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            opacity: 0.7;
            background: #000;
            transition: opacity 0.5s ease-in-out;
        }

        .main2-section video.fade-out {
            opacity: 0;
        }

        .main2-section video.fade-in {
            opacity: 0.7;
        }

        .main2-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            z-index: 2;
        }

        .main2-section .video-fade-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            pointer-events: none;
        }

        .main2-section .video-fade-overlay.active {
            opacity: 1;
        }

        .main2-content {
            position: absolute;
            top: calc(50% - 50px);
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 3;
            width: 100%;
            max-width: 1200px;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
        }

        .main2-title {
            font-size: 56px;
            font-weight: 700;
            color: #fff;
            text-shadow: 2px 2px 12px rgba(0, 0, 0, 0.6),
                         0 0 30px rgba(255, 255, 255, 0.3);
            letter-spacing: 4px;
            text-align: center;
            animation: fadeIn 1s ease;
            margin: 0 0 -5px 0;
            line-height: 1.1;
        }

        .main2-subtitle {
            font-size: 24px;
            font-weight: 400;
            color: #fff;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5),
                         0 0 20px rgba(255, 255, 255, 0.2);
            letter-spacing: 2px;
            text-align: center;
            animation: fadeIn 1.2s ease;
            margin: 0;
            font-style: italic;
            line-height: 1.2;
        }


        .main2-buttons {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
            width: 100%;
            max-width: 1200px;
            padding: 0 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }


        .product-button {
            display: inline-block;
            padding: 14px 28px;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            color: #fff;
            text-decoration: none;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(68, 170, 107, 0.3);
            letter-spacing: 0.3px;
            position: relative;
            overflow: hidden;
        }

        .product-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .product-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .product-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(68, 170, 107, 0.4);
        }

        .product-button:active {
            transform: translateY(-1px);
        }


        @media (max-width: 768px) {
            .main2-section {
                height: 60vh;
                min-height: 400px;
            }

            .main2-title {
                font-size: 32px;
                letter-spacing: 2px;
                margin-bottom: -3px;
                line-height: 1.1;
            }

            .main2-subtitle {
                font-size: 18px;
                letter-spacing: 1px;
                line-height: 1.2;
            }


            .main2-buttons {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
                bottom: 80px !important;
                left: 50%;
                transform: translateX(-50%);
                max-width: 100%;
                padding: 0 10px;
            }

            .product-button {
                width: auto;
                min-width: 80px;
                max-width: 120px;
                padding: 10px 16px;
                font-size: 14px;
                margin: 0;
            }

            .main2-content {
                padding: 0 15px;
                gap: 30px;
            }
        }

        .main-section {
            position: relative;
            background-image: url('우수제품.png');
            background-size: cover;
            background-position: center;
            padding: 600px 20px 50px;
            color: #fff;
            text-align: center;
        }

        .main-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            text-align: center;
        }

        .main-section h1 {
            font-size: 2rem;
            color: #000;
            margin-bottom: 20px;
            animation: fadeIn 0.8s ease;
        }

        .main-section p {
            font-size: 1.2rem;
            line-height: 2;
            margin: 10px 0;
            animation: fadeIn 0.8s ease 0.2s both;
        }

        .cta-button {
            display: inline-block;
            margin-top: 20px;
            padding: 14px 28px;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            color: #fff;
            text-decoration: none;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(68, 170, 107, 0.3);
            letter-spacing: 0.3px;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .cta-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(68, 170, 107, 0.4);
        }

        .cta-button:active {
            transform: translateY(-1px);
        }

        .video-button {
            display: inline-block;
            margin-top: 20px;
            margin-left: 10px;
            padding: 14px 28px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: #fff;
            text-decoration: none;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(255, 107, 107, 0.3);
            cursor: pointer;
            letter-spacing: 0.3px;
            position: relative;
            overflow: hidden;
        }

        .video-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .video-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .video-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(255, 107, 107, 0.4);
        }

        .video-button:active {
            transform: translateY(-1px);
        }

        .MAS-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 60px 40px;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.04);
            margin: 20px;
            border: 1px solid rgba(0,0,0,0.05);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: fadeIn 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .MAS-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(68, 170, 107, 0.05), transparent);
            transition: left 0.5s ease;
        }

        .MAS-section:hover::before {
            left: 100%;
        }

        .MAS-section:hover {
            box-shadow: 0 16px 48px rgba(0,0,0,0.15), 0 8px 16px rgba(0,0,0,0.08);
            transform: translateY(-6px) scale(1.01);
        }

        .MAS-section h2 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
            animation: slideUp 0.6s ease 0.2s both;
        }

        .MAS-section p {
            font-size: 16px;
            color: #495057;
            line-height: 1.6;
        }
        
        .gallery-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            background-size: contain;
            background-position: center;
            padding: 60px 40px;
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.04);
            margin: 20px;
            border: 1px solid rgba(0,0,0,0.05);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 400px;
            animation: fadeIn 0.8s ease 0.1s both;
            position: relative;
            overflow: hidden;
        }

        .gallery-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(68, 170, 107, 0.05), transparent);
            transition: left 0.5s ease;
        }

        .gallery-section:hover::before {
            left: 100%;
        }

        .gallery-section:hover {
            box-shadow: 0 16px 48px rgba(0,0,0,0.15), 0 8px 16px rgba(0,0,0,0.08);
            transform: translateY(-6px) scale(1.01);
        }

        .gallery-section h2 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.5px;
            animation: slideUp 0.6s ease 0.3s both;
        }

        .gallery-section p {
            font-size: 16px;
            color: #495057;
            line-height: 1.6;
        }

        footer {
            background-color: #ccc8c8; /* 배경색 */
            color: #696868;           /* 텍스트 색상 */
            padding: 10px 20px 10px 20px;
            margin-top: 10px;
            text-align: center;
            padding-bottom: 20px;             /* 선과 텍스트 간격 */
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            overflow-wrap: break-word;
            word-wrap: break-word;
            overflow-x: hidden;
            min-height: auto;
        }

        footer p, footer .footer-info {
           font-size: 12px;
           line-height: 1.6;
           margin: 6px 0;  /* 위아래 간격 증가 */
           white-space: normal;
           word-break: break-word;
           overflow-wrap: break-word;
           max-width: 100%;
           box-sizing: border-box;
           display: block;
           width: 100%;
           padding: 0;
        }

        footer::before {
            content: "";
            display: block;
            width: 68%;
            margin: 0 auto;        /* 중앙 정렬 */
            border-top: 1px solid #ccc;
            margin-bottom: 15px; /* 선과 텍스트 간격 */
        }

        .login-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 32px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 1001;
            min-width: 360px;
            max-width: 420px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalFadeIn 0.2s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -48%) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 24px;
            border-radius: 12px;
            background: #e9ecef;
            padding: 4px;
        }

        .auth-tab {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            color: #6c757d;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .auth-tab.active {
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(68, 170, 107, 0.3);
        }

        .auth-tab:hover:not(.active) {
            color: #44aa6b;
        }

        .auth-form {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-container h2 {
            margin: 0 0 24px 0;
            font-size: 24px;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-container input {
            margin: 8px 0;
            padding: 12px 16px;
            width: calc(100% - 32px);
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .login-container input:focus {
            outline: none;
            border-color: #44aa6b;
            box-shadow: 0 0 0 4px rgba(68, 170, 107, 0.1);
        }

        .login-container button:not(.auth-tab) {
            padding: 12px 24px;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            margin-top: 16px;
            width: 100%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(68, 170, 107, 0.3);
            position: relative;
            overflow: hidden;
        }

        .login-container button:not(.auth-tab)::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .login-container button:not(.auth-tab):hover::before {
            width: 300px;
            height: 300px;
        }

        .login-container button:not(.auth-tab):hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(68, 170, 107, 0.4);
        }

        .auth-notice {
            margin-top: 16px;
            font-size: 12px;
            color: #6c757d;
            line-height: 1.5;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            animation: overlayFadeIn 0.2s ease-out;
        }

        @keyframes overlayFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .footer-top {
            display: flex;
            justify-content: flex-end;
            align-items: flex-end;
            background-color: #ffffff;
            color: #ffffff;
            padding: 5px;
            font-size: 12px;
            gap: 10px;
        }

        .footer-top button:disabled {
            background-color: #ccc;
            color: #666;
            cursor: not-allowed;
        }

        .footer-top button {
            background-color: #ffffff;
            color: #7a7878;
            border: none;
            cursor: pointer;
            font-size: 12px;
            padding: 5px 5px;
            border-radius: 4px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-top button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        .footer-top button img {
            height: 16px;
            width: 16px;
        }

        .partner-logos {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            padding: 30px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .partner-logos-wrapper {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .partner-logos a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            min-width: 40px;
            background: #ffffff;
            border-radius: 12px;
            padding: 6px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .partner-logos a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(68, 170, 107, 0.1) 0%, rgba(58, 143, 90, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .partner-logos a:hover {
            transform: translateY(-4px) scale(1.15);
            box-shadow: 0 6px 20px rgba(68, 170, 107, 0.25);
        }
        
        .partner-logos a:hover::before {
            opacity: 1;
        }

        .partner-logos img {
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 6px;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }
        
        .partner-logos a:hover img {
            transform: scale(1.2);
        }

        .hamburger { display: none; background: transparent; border: 0; padding: 8px; cursor: pointer; }
        .hamburger .bar { display: block; width: 22px; height: 2px; margin: 4px 0; background: #000; transition: transform 0.3s, opacity 0.3s; }
        .mobile-drawer { display: none !important; }

        .mas-gallery-container {
           display: flex;
           gap: 10px;
        }

.login {
    display: flex;
    align-items: center;
    gap: 8px;       /* 로그인/로그아웃/임직원 사이 간격 */
    flex-direction: row;
}

/* 숨겨진 로그인/로그아웃 버튼이 공간을 차지하지 않도록 */
.login-item[style*="display: none"],
#login-link[style*="display: none"],
#logout-link[style*="display: none"] {
    display: none !important;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
}

.employee-btn {
    display: flex;  /* 항상 표시 */
    align-items: center;
}

.employee-btn button {
    padding: 6px 12px;
    font-size: 13px;
    font-weight: 600;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.employee-btn button:not(:disabled) {
    background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
    color: white;
    box-shadow: 0 2px 8px rgba(68, 170, 107, 0.3);
}

.employee-btn button:not(:disabled):hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(68, 170, 107, 0.4);
}

.employee-btn button:disabled {
    background-color: #e9ecef;
    color: #adb5bd;
    cursor: not-allowed;
}

/* 로그인 아이콘 스타일 */
.login-item {
    display: flex;
    align-items: center;
    justify-content: center;
}

.login-icon {
    height: 20px;
    width: auto;
    margin-right: 5px;
    vertical-align: middle;
    display: inline-block;
}

.navbar > .logo {
    margin-right: auto;
}

    /* 중간 크기 화면에서 footer 텍스트 줄바꿈 처리 */
    @media (max-width: 1200px) {
        footer p, footer .footer-info {
            word-break: break-word;
            overflow-wrap: break-word;
            white-space: normal;
        }
    }
    
    @media (max-width: 1024px) {
        .navbar {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            height: 59px;
            padding: 0 8px;
        }

        .navbar .login a {
            margin: 0 !important;
        }

        .navbar .login {
            grid-column: 3;
            margin-left: auto;
            display: flex;
            flex-direction: row;
            gap: 2px;  /* 간격을 8px에서 2px로 줄임 */
            align-items: center;
        }
        
        .employee-btn {
            display: flex !important;
        }
        
        .employee-btn button {
            padding: 4.2px 8.4px !important;  /* 30% 감소: 6px -> 4.2px, 12px -> 8.4px */
            font-size: 8.4px !important;  /* 30% 감소: 12px -> 8.4px */
        }
        
        /* 로그인 버튼도 30% 작게 */
        .login a,
        .login-item {
            font-size: 11.2px !important;  /* 30% 감소 (기본 16px 기준) */
            padding: 4.2px 8.4px !important;  /* 30% 감소 */
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        .login-icon {
            height: 14px !important;  /* 30% 감소: 20px -> 14px */
            width: auto !important;
            margin-right: 3.5px !important;  /* 30% 감소: 5px -> 3.5px */
            display: inline-block !important;
            vertical-align: middle !important;
        }
        .navbar > div:not(.logo):not(.login):not(.mobile-only) {
            display: none;
        }
        .employee-btn { display: block; }
        .footer-top { display: none; }
        .login-icon { 
            display: inline-block !important;  /* 모바일에서도 아이콘 표시 */
            height: 14px !important;  /* 30% 감소된 크기 유지 */
        }
        .navbar > .logo { margin-right: 0; }

        .hamburger {
            grid-column: 1;
            display: inline-flex;
            width: 28px; height: 24px;
            position: relative;
            justify-self: start;
            padding: 0; border: 0; background: transparent;
        }

        .hamburger .bar {
            position: absolute; left: 0; right: 0;
            height: 2px; background: #000; margin: 0;
        }
        
        .hamburger .bar:nth-child(1) { top: 2px; }
        .hamburger .bar:nth-child(2) { top: 11px; }
        .hamburger .bar:nth-child(3) { bottom: 2px; }

        .navbar .logo {
            grid-column: 2;
            justify-self: start;
            align-self: center;
            position: static;
            transform: none;
            z-index: 1;
            margin-top: 0;
            margin-left: 12px;
        }

        .navbar .logo img {
            height: 50px;
            overflow: visible;
        }
        
        .navbar .logo span {
            font-size: 14px !important;
            font-weight: bold;
        }

        .navbar > div:not(.logo):not(.login):not(.mobile-only) { display: none; }

        .mobile-drawer {
            position: fixed;
            top: 59px;
            left: 0;
            width: 80%;
            max-width: 340px;
            height: calc(100vh - 59px);
            background: #fff;
            box-shadow: 2px 0 12px rgba(0,0,0,0.15);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            display: flex !important;
            flex-direction: column;
            padding: 16px 20px;
            gap: 8px;
            z-index: 1001;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .mobile-drawer a {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            text-align: left;
            font-weight: bold;
            color: #000;
            text-decoration: none;
        }

        .mobile-drawer.open { transform: translateX(0); }

        .body.menu-open { overflow: hidden; }
        .overlay.menu-open { display: block !important; }

        .mas-gallery-container {
            display: flex;
            flex-direction: column;  /* 세로 배치 */
            gap: 20px;              /* 위아래 간격 */
        }

        .mas-gallery-container section {
            flex: none;
            width: 100%;
        }

        .MAS-section h2 { margin-top: -10px; margin-left: -30px; font-size: 1.2rem; }
        .gallery-section h2 { margin-top: -8px; margin-left: -30px; font-size: 1.2rem; }

      /* 설명 문구 */
        .MAS-section p { margin-top: 5px; margin-left: -30px; font-size: 0.9rem; }
        .gallery-section p { margin-top: 5px; margin-left: -30px; font-size: 0.9rem; }

      /* 버튼 */
        .MAS-section .cta-button { margin-top: 12px; margin-left: -30px; font-size: 16px; padding: 8px 20px; }
        .gallery-section .cta-button { margin-top: 12px; margin-left: -30px; font-size: 16px; padding: 8px 20px; }
        .main-section .cta-button { margin-top: 12px; font-size: 16px; padding: 8px 20px; }
        .main-section .video-button { margin-top: 12px; margin-left: 10px; font-size: 16px; padding: 8px 20px; }

      /* 모바일에서 애니메이션 및 효과 제거 - 메인2처럼 일반적으로 표시 */
        .MAS-section {
            animation: none !important;
            transition: none !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 60px 20px !important;
            height: 60vh !important;
            min-height: 400px !important;
            position: relative !important;
            overflow: hidden !important;
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box !important;
        }
        .MAS-section::before {
            display: none !important;
        }
        .MAS-section:hover {
            box-shadow: none !important;
            transform: none !important;
        }
        .MAS-section h2 {
            animation: none !important;
        }
        .gallery-section {
            animation: none !important;
            transition: none !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 60px 20px !important;
            height: 60vh !important;
            min-height: 400px !important;
            position: relative !important;
            overflow: hidden !important;
            width: 100% !important;
            max-width: 100% !important;
            box-sizing: border-box !important;
        }
        .gallery-section::before {
            display: none !important;
        }
        .gallery-section:hover {
            box-shadow: none !important;
            transform: none !important;
        }
        .gallery-section h2 {
            animation: none !important;
        }
        
        /* MAS와 갤러리 섹션의 배경 이미지 크기 조정 */
        .MAS-section[style*="background-image"],
        .gallery-section[style*="background-image"] {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }

        footer { 
            padding: 14px 12px 18px;    /* 안쪽 여백 축소 */
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            overflow-wrap: break-word;
            word-wrap: break-word;
            overflow-x: hidden;
        }
        footer::before{
            width: 90%;                 /* 구분선 길이 살짝 늘림 */
            margin-bottom: 10px;
        }
            footer p, footer .footer-info{
                font-size: 10px;            /* 글자 크기 */
                line-height: 1.7;          /* 줄간격 더 증가 */
                letter-spacing: 0;          /* 자간 */
                text-align: left;           /* 정렬 */
                margin: 6px 0;
                white-space: normal;
                word-break: break-word;
                overflow-wrap: break-word;
                max-width: 100%;
                box-sizing: border-box;
                display: block;
                width: 100%;
                padding: 0;
            }
            
            .partner-logos {
                gap: 16px;
                padding: 25px 15px;
            }
            
            .partner-logos a {
                width: 35px;
                height: 35px;
                min-width: 35px;
                padding: 6px;
            }
            
            .partner-logos img {
                max-width: 100%;
                max-height: 100%;
            }
        }
        
        /* SPA 섹션 스타일 */
        .spa-section {
            width: 100%;
            box-sizing: border-box;
            margin-top: 0;
            padding-top: 0;
        }
        
        /* School 섹션 특별 스타일 - 네비바 바로 아래 */
        #section-school {
            margin-top: 0;
            padding-top: 0;
        }
        
        /* 엑셀 데이터 표시 영역 - 네비바 바로 아래 */
        .excel-display-area {
            margin-top: 0;
            padding: 20px;
            background: #fff;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            position: relative;
        }

        .read-only-notice {
            padding: 10px 20px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            color: #856404;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: left;
        }
        
        /* 엑셀 업로드 버튼 (관리자만) - 동그란 오버레이 버튼 */
        .excel-upload-btn {
            position: fixed;
            top: 150px;
            right: 30px;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.5);
            cursor: pointer;
            font-size: 10px;
            font-weight: 600;
            box-shadow: 0 4px 16px rgba(68, 170, 107, 0.4);
            transition: all 0.3s ease;
            z-index: 999;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            overflow: hidden;
            line-height: 1.2;
            text-align: center;
            padding: 0;
        }

        .excel-upload-btn[style*="display: block"] {
            display: flex !important;
        }

        .excel-upload-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 20px rgba(68, 170, 107, 0.5);
            border-color: rgba(255, 255, 255, 0.8);
        }

        .excel-upload-btn::before {
            content: '파일\A첨부';
            white-space: pre;
            font-size: 10px;
            line-height: 1.2;
            text-align: center;
        }

        .excel-upload-btn input[type="file"] {
            display: none;
        }

        .excel-upload-btn span {
            display: none;
        }

        /* Tabulator 스프레드시트 스타일 */
        #tabulator-table {
            margin: 20px 0;
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
            min-height: 400px;
        }

        .tabulator {
            font-size: 14px;
            background: #fff;
        }
        
        .tabulator-table {
            width: 100%;
        }

        .tabulator .tabulator-header {
            background: #f8f9fa;
            font-weight: 600;
            border-bottom: 2px solid #dee2e6;
        }

        .tabulator .tabulator-header .tabulator-col {
            background: #f8f9fa;
            border-right: 1px solid #dee2e6;
        }

        .tabulator .tabulator-cell {
            border-right: 1px solid #dee2e6;
            padding: 8px 12px;
        }

        .tabulator .tabulator-row {
            border-bottom: 1px solid #dee2e6;
        }

        .tabulator .tabulator-row:hover {
            background: #f8f9fa;
        }

        .tabulator .tabulator-row.tabulator-selected {
            background: #e3f2fd;
        }

        /* 로그인 안내 모달 */
        .login-notice-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .login-notice-modal.active {
            display: flex;
        }

        .login-notice-content {
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .login-notice-content h3 {
            margin: 0 0 15px;
            color: #333;
            font-size: 20px;
        }

        .login-notice-content p {
            margin: 0 0 20px;
            color: #666;
            line-height: 1.6;
        }

        .login-notice-content button {
            background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .login-notice-content button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);
        }
        
        /* 로딩 스피너 애니메이션 */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

    <body>
    <div class="overlay" id="overlay"></div>

    <div class="login-container" id="login-container">
        <!-- 탭 버튼 -->
        <div class="auth-tabs">
            <button type="button" class="auth-tab active" onclick="showAuthTab('login')">로그인</button>
            <button type="button" class="auth-tab" onclick="showAuthTab('register')">회원가입</button>
        </div>
        
        <!-- 로그인 폼 -->
        <div id="login-form" class="auth-form">
            <input type="text" id="username" placeholder="아이디">
            <input type="password" id="password" placeholder="비밀번호">
            <button type="button" onclick="login()">로그인</button>
        </div>
        
        <!-- 회원가입 폼 -->
        <div id="register-form" class="auth-form" style="display: none;">
            <input type="text" id="reg-username" placeholder="아이디 (4자 이상)">
            <input type="password" id="reg-password" placeholder="비밀번호 (6자 이상)">
            <input type="password" id="reg-password-confirm" placeholder="비밀번호 확인">
            <input type="text" id="reg-name" placeholder="이름">
            <input type="email" id="reg-email" placeholder="이메일">
            <input type="tel" id="reg-phone" placeholder="연락처">
            <select id="reg-user-type" style="width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; font-size: 14px;">
                <option value="general">일반회원</option>
                <option value="employee">임직원</option>
            </select>
            <button type="button" onclick="register()">회원가입 신청</button>
            <p class="auth-notice">* 회원가입 후 관리자 승인이 필요합니다.</p>
        </div>
    </div>

    <header class="navbar">
      <button class="hamburger" id="hamburger" aria-label="메뉴 열기" aria-controls="mobile-nav" aria-expanded="false">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
      </button>

      <div class="logo">
              <img src="./hanaro/image/logo-nav.png" alt="로고" style="height: 50px; overflow: visible;">
      </div>

      <nav id="mobile-nav" class="mobile-drawer" role="navigation" aria-label="모바일 메뉴">
          <a href="./index.html">홈</a>
          <a href="./hanaro/company/company.html">회사소개</a>
          <a href="./hanaro/product/product.html">제품소개</a>
          <a href="#/school">납품학교 리스트</a>
          <a href="./hanaro/Gallery/Gallery.html">갤러리</a>
          <a href="./hanaro/AS/AS.html">A/S신청</a>
          <a href="#">고객지원</a>
      </nav>

        <div>
            <a href="./index.html">홈</a>
        </div>

        <div>
            <a href="./hanaro/company/company.html">회사소개</a>
        </div>

        <div>
            <a href="./hanaro/product/product.html">제품소개</a>
        </div>
        
        <div>
            <a href="#/school">납품학교 리스트</a>
        </div>

        <div>
            <a href="./hanaro/Gallery/Gallery.html">갤러리</a>
        </div>

        <div>
            <a href="./hanaro/AS/AS.html">A/S신청</a>
        </div>

        <div>
            <a href="#">고객지원</a>
        </div>
        
<div class="login">
    <a href="#" id="login-link" class="login-item">
        <img src="./hanaro/image/login.png" alt="로그인" class="login-icon"> 로그인
    </a>
    <a href="#" id="logout-link" class="login-item" style="display:none;">
        <img src="./hanaro/image/logout.png" alt="로그아웃" class="login-icon"> 로그아웃
    </a>
  <a href="./hanaro/staff/staff.html" class="employee-btn">
    <button class="employee-button" disabled>임직원</button>
  </a>
</div>
    </header>

    <!-- SPA 섹션 컨테이너 (네비바 바로 아래) -->
    <div id="spa-sections">
        <!-- School 섹션 -->
        <div id="section-school" class="spa-section" style="display: none;">
            <!-- 엑셀 업로드 버튼 (관리자만 표시) -->
            <label for="excel-upload" class="excel-upload-btn" id="excel-upload-btn" style="display: none;" title="엑셀 파일 첨부">
                <input type="file" id="excel-upload" accept=".xlsx,.xls" onchange="handleExcelUpload(event)">
            </label>

            <!-- 엑셀 데이터 표시 영역 -->
            <div class="excel-display-area" id="excel-display-area" style="display: block;">
                <div class="read-only-notice">
                    ⚠️ 읽기 전용 모드입니다. 수정할 수 없습니다.
                </div>
                <div id="tabulator-table" style="display: none;"></div>
                <div id="excel-content" style="display: block;">
                    <div style="text-align: center; padding: 60px 20px;">
                        <div style="display: inline-block; width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #44aa6b; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px;"></div>
                        <p style="color: #666; font-size: 16px; margin: 0;">로딩 중입니다...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section class="main2-section">
        <video autoplay muted loop playsinline preload="auto" id="main-video" crossorigin="anonymous">
            <source src="./image/main ch.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="video-fade-overlay" id="video-fade-overlay"></div>
        <div class="main2-content">
            <h1 class="main2-title">HANARO OA FURNITURE</h1>
            <p class="main2-subtitle">a better future for children</p>
        </div>
        <div class="main2-buttons">
            <a href="./hanaro/product/product.html?category=일반제품" class="product-button">일반제품</a>
            <a href="./hanaro/product/product.html?category=우수제품" class="product-button">우수제품</a>
            <a href="./hanaro/product/product.html?category=사물함" class="product-button">사물함</a>
            <a href="./hanaro/product/product.html?category=Accessory" class="product-button">Accessory</a>
        </div>
    </section>

    <div style="height: 10px;"></div>

    <section class="main-section" style="background-image: url('./hanaro/image/ccc.png'); background-size: cover; background-position: center;">
        <div class="main-content" style="position: absolute; bottom: 200px; left: 50%; transform: translateX(-50%); text-align: center;">
            <div style="height: 200px;"></div>
            <a href="./hanaro/product/product.html?category=우수제품" class="cta-button">제품보기</a>
            <a href="https://youtu.be/BCFoUwoQyVo?si=FD8xSulI00cRH1LS" target="_blank" class="video-button">영상보기</a>
        </div>
    </section>

    <div style="height: 10px;"></div>

    <div class="mas-gallery-container">
        <section class="MAS-section" style="background-image: url('./image/mas.png'); background-size: cover; background-position: center; flex: 1; padding: 60px 20px;">
            <div style="height: 350px;"></div>
            <h2>일반제품(MAS)</h2>
            <p style="font-weight: bold; text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);">
                더 우수한 품질과 내구성
            </p>
            <a href="./hanaro/product/product.html?category=일반제품#" class="cta-button">제품보기</a>
        </section>

        <section class="gallery-section" style="background-image: url('./image/aaa.png'); background-size: cover; background-position: center; flex: 1; padding: 60px 20px;">
            <div style="height: 350px;"></div>
            <h2>갤러리</h2>
            <p style="font-weight: bold; text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);">
                전국 학교의 급식실 전경을 살펴보세요
            </p>
            <a href="./hanaro/Gallery/Gallery.html" class="cta-button">갤러리 보기</a>
        </section>
    </div>

    <div class="partner-logos">
        <a href="https://www.g2b.go.kr/" target="_blank">
            <img src="./image/logo1.png" alt="파트너 1">
        </a>
        <a href="https://shop.g2b.go.kr/" target="_blank">
            <img src="./image/logo2.png" alt="파트너 2">
        </a>
        <a href="https://hometax.go.kr/" target="_blank">
            <img src="./image/logo3.png" alt="파트너 3">
        </a>
        <a href="https://www.smpp.go.kr" target="_blank">
            <img src="./image/logo4.png" alt="파트너 4">
        </a>
        <a href="https://ecosq.or.kr/" target="_blank">
            <img src="./image/logo5.png" alt="파트너 5">
        </a>
        <a href="https://www.sgic.co.kr/" target="_blank">
            <img src="./image/logo6.png" alt="파트너 6">
        </a>
        <a href="https://si4n.nhis.or.kr/" target="_blank">
            <img src="./image/logo7.png" alt="파트너 7">
        </a>
        <a href="https://www.4insure.or.kr/" target="_blank">
            <img src="./image/logo8.png" alt="파트너 8">
        </a>
    </div>

    <div style="padding: 15px 20px 5px 20px; font-size: 10px; color: #bcbcbc; text-align: left; line-height: 1.6; word-break: break-word; overflow-wrap: break-word;">
      <p style="text-indent: 20px; margin: 8px 0; line-height: 1.6; word-break: break-word; overflow-wrap: break-word; white-space: normal;">1. 본 홈페이지는 데스크탑 브라우저 버전에 최적화 되어있습니다. 원활한 사용을 위해 데스크탑 브라우저 환경으로 사용해주세요.</p>
      <p style="text-indent: 20px; margin: 8px 0; line-height: 1.6; word-break: break-word; overflow-wrap: break-word; white-space: normal;">2. 하나로오에이퍼니처는 조달청 및 공공기관 납품 전용 가구를 전문으로 제작하는 기업 입니다. 본 홈페이지에서 소개되는 제품들은 조달청 종합쇼핑몰 판매 전용입니다.</p>
    </div>

    <footer>
        <p style="word-break: break-word; overflow-wrap: break-word; white-space: normal; max-width: 100%; box-sizing: border-box; display: block; width: 100%; margin: 6px 0; padding: 0;">Copyright © 2025 (주)하나로오에이퍼니처. 모든 권리 보유. | 문의 : oa9500@empas.com | 전화 : 042-633-9500  |  A/S : 043-731-9511</p>
        <p class="footer-info" style="word-break: break-word; overflow-wrap: break-word; white-space: normal; max-width: 100%; box-sizing: border-box; display: block; width: 100%; margin: 6px 0; padding: 0;">주식회사 하나로오에이퍼니처 | 대표이사 : 정진희, 장인덕 | 주소 : 대전광역시 대덕구 오정로 41번길 12 | 전화 : 042-633-9500 | 사업자등록번호 : 305-81-45158</p>
    </footer>
    
    <!-- 로그인 안내 모달 -->
    <div class="login-notice-modal" id="login-notice-modal">
        <div class="login-notice-content">
            <h3>로그인이 필요합니다</h3>
            <p>납품학교 리스트를 보시려면 회원가입 및 로그인이 필요합니다.</p>
            <button onclick="closeLoginNotice(); showLogin();">로그인하기</button>
        </div>
    </div>

    <!-- 공통 인증 스크립트 -->
    <script src="./hanaro/js/auth.js"></script>
    
    <!-- SPA 라우팅 시스템 -->
    <script src="./hanaro/js/router.js"></script>

    <script>
        // 로그인/로그아웃 버튼 이벤트 리스너 설정
        function setupAuthButtons() {
            const loginLink = document.getElementById('login-link');
            const logoutLink = document.getElementById('logout-link');
            
            if (loginLink) {
                loginLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (typeof showLogin === 'function') {
                        showLogin();
                    } else {
                        console.error('showLogin 함수가 정의되지 않았습니다. auth.js 파일 경로를 확인하세요.');
                    }
                });
            }
            
            if (logoutLink) {
                logoutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (typeof logout === 'function') {
                        logout();
                    } else {
                        console.error('logout 함수가 정의되지 않았습니다. auth.js 파일 경로를 확인하세요.');
                    }
                });
            }
        }
        
        // auth.js가 로드될 때까지 대기 (Firebase 준비 여부로 판단)
        function waitForAuthJS(callback, maxAttempts = 50) {
            let attempts = 0;
            const checkInterval = setInterval(function() {
                attempts++;
                // Firebase가 준비되었는지 확인
                if (typeof firebase !== 'undefined' && 
                    firebase.apps && 
                    firebase.apps.length > 0 && 
                    typeof firebase.auth === 'function') {
                    try {
                        const auth = firebase.auth();
                        if (auth && typeof auth.onAuthStateChanged === 'function') {
                            clearInterval(checkInterval);
                            callback();
                            return;
                        }
                    } catch (e) {
                        // auth() 호출 실패 시 계속 대기
                    }
                }
                
                if (attempts >= maxAttempts) {
                    clearInterval(checkInterval);
                    if (typeof firebase === 'undefined') {
                        console.error('auth.js가 로드되지 않았습니다. 파일 경로를 확인하세요: ./hanaro/js/auth.js');
                    } else if (typeof showLogin !== 'function' || typeof logout !== 'function') {
                        console.warn('auth.js는 로드되었지만, UI 핸들러(showLogin/logout)가 전역에 노출되지 않았습니다.');
                    } else {
                        console.error('Firebase Auth가 준비되지 않았습니다.');
                    }
                }
            }, 100);
        }

        // DOMContentLoaded 후 auth.js 로드 대기
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                waitForAuthJS(setupAuthButtons);
            });
        } else {
            // 이미 로드된 경우
            waitForAuthJS(setupAuthButtons);
        }
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const urlParams = new URLSearchParams(window.location.search);
            const categoryParam = urlParams.get("category");

            if (categoryParam) {
                const categories = document.querySelectorAll('.product-category');
                const navLinks = document.querySelectorAll('.secondary-navbar a');

                categories.forEach(function(cat) {
                    cat.style.display = cat.dataset.category === categoryParam ? 'grid' : 'none';
                });

                navLinks.forEach(function(link) {
                    if (link.textContent.trim() === categoryParam) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
            }
        });
    </script>

    <script>
document.addEventListener('DOMContentLoaded', function () {
  const burger = document.getElementById('hamburger');
  const drawer = document.getElementById('mobile-nav');
  const overlay = document.getElementById('overlay');
  if (!burger || !drawer || !overlay) return;

  let prevFocus = null;
  function setState(open) {
    burger.setAttribute('aria-expanded', String(open));
    burger.setAttribute('aria-label', open ? '메뉴 닫기' : '메뉴 열기');
    drawer.classList.toggle('open', open);
    document.body.classList.toggle('menu-open', open);
    overlay.classList.toggle('menu-open', open);
  }
  function openMenu() {
    // 로그인 창이 열려 있으면 닫기
    const login = document.getElementById('login-container');
    if (login && login.style.display === 'block' && typeof hideLogin === 'function') hideLogin();
    prevFocus = document.activeElement;
    setState(true);
    const first = drawer.querySelector('a');
    if (first) first.focus();
  }
  function closeMenu() {
    setState(false);
    if (prevFocus && prevFocus.focus) prevFocus.focus();
    prevFocus = null;
  }
  function toggleMenu() {
    const isOpen = drawer.classList.contains('open');
    isOpen ? closeMenu() : openMenu();
  }

  burger.addEventListener('click', toggleMenu);
  overlay.addEventListener('click', function() {
    if (drawer.classList.contains('open')) closeMenu();
  });
  drawer.querySelectorAll('a').forEach(function(a) {
    a.addEventListener('click', closeMenu);
  });
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && drawer.classList.contains('open')) closeMenu();
  });
  window.addEventListener('resize', function() {
    if (window.innerWidth > 1024 && drawer.classList.contains('open')) closeMenu();
  });
});
</script>

<script>
// 비디오 로드 및 재생 보장
document.addEventListener('DOMContentLoaded', function() {
    const video = document.getElementById('main-video');
    if (video) {
        // 비디오 로드 시도
        video.load();
        
        // 재생 시도
        const playPromise = video.play();
        if (playPromise !== undefined) {
            playPromise.catch(function(error) {
                console.log('비디오 자동 재생 실패:', error);
                // 자동 재생이 실패해도 비디오는 표시됨
            });
        }
        
        // 자연스러운 루프를 위한 처리 (검은색 페이드 아웃)
        let isRestarting = false;
        const fadeOverlay = document.getElementById('video-fade-overlay');
        video.addEventListener('timeupdate', function() {
            // 비디오가 거의 끝나갈 때 (마지막 1초 전) 부드럽게 다시 시작
            if (!isRestarting && video.duration && video.currentTime >= video.duration - 1.0) {
                isRestarting = true;
                // 검은색 페이드 아웃 효과
                if (fadeOverlay) {
                    fadeOverlay.classList.add('active');
                }
                
                setTimeout(function() {
                    video.currentTime = 0;
                    // 페이드인 없이 바로 검은색 오버레이 제거
                    if (fadeOverlay) {
                        fadeOverlay.classList.remove('active');
                    }
                    isRestarting = false;
                }, 1000);
            }
        });
        
        // 비디오가 실제로 끝났을 때도 처리 (백업)
        video.addEventListener('ended', function() {
            if (!isRestarting) {
                video.currentTime = 0;
                video.play();
            }
        });
        
        // 에러 처리
        video.addEventListener('error', function(e) {
            console.error('비디오 로드 오류:', e);
            // 비디오 로드 실패 시 배경 이미지로 대체
            const section = video.closest('.main2-section');
            if (section) {
                section.style.backgroundImage = 'url("./image/bbb.png")';
                section.style.backgroundSize = 'cover';
                section.style.backgroundPosition = 'center';
                video.style.display = 'none';
            }
        });
        
        // 비디오가 로드되었는지 확인
        video.addEventListener('loadeddata', function() {
            console.log('비디오 로드 완료');
        });
    }
});
</script>

</body>
</html>

