<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="í•˜ë‚˜ë¡œì˜¤ì—ì´í¼ë‹ˆì²˜ - ì¡°ë‹¬ ìš°ìˆ˜ì œí’ˆê³¼ ì¼ë°˜ì œí’ˆ ì†Œê°œ">
    <meta name="keywords" content="í•˜ë‚˜ë¡œì˜¤ì—ì´í¼ë‹ˆì²˜, ì¡°ë‹¬ ìš°ìˆ˜ì œí’ˆ, MAS, ê°€êµ¬, ì‚¬ë¬´ê°€êµ¬">
    <title>í•˜ë‚˜ë¡œì˜¤ì—ì´í¼ë‹ˆì²˜ A/S</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- ê³µí†µ ì¸ì¦ CSS -->
    <link rel="stylesheet" href="../css/auth.css">
    <!-- ê³µí†µ ë””ìì¸ ì‹œìŠ¤í…œ CSS -->
    <link rel="stylesheet" href="../css/common.css">
    
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #ffffff;
            color: #000000;
            text-align: center;
        }

        .navbar {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 5px 5px;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            position: relative;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            z-index: 1000;
            height: 78px;
            transition: all 0.3s ease;
        }

        .navbar > .logo {
            margin-right: auto; /* ë¡œê³ ì™€ ë‚˜ë¨¸ì§€ í•­ëª© ê°„ ì—¬ë°± */
        }

        .navbar .logo a {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: #000;
        }
        
        .navbar .logo img {
            height: 75px;
        }
        
        .navbar .logo a {
            pointer-events: none;
            cursor: default;
        }
        
        .navbar .logo span {
            font-size: 18px;
            font-weight: bold;
            white-space: nowrap;
        }

        .navbar > div {
            position: relative;
        }

        .navbar > div > a {
            margin: 13px 4px !important;
            font-size: 18px !important;
            font-weight: 600;
            letter-spacing: -0.5px;
            text-decoration: none;
            color: #212529;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            white-space: nowrap;
            position: relative;
            padding: 8px 12px;
            border-radius: 8px;
        }

        .navbar > div > a:hover {
            color: #44aa6b;
            background: rgba(68, 170, 107, 0.08);
        }

        .body {
            overflow-x: auto; /* ìˆ˜í‰ ìŠ¤í¬ë¡¤ í™œì„±í™” */
        }

        footer {
            background-color: #ccc8c8; /* ë°°ê²½ìƒ‰ */
            color: #696868;           /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            padding: 20px;
            margin-top: 40px;
            text-align: center;
            padding-bottom: 15px;             /* ì„ ê³¼ í…ìŠ¤íŠ¸ ê°„ê²© */
        }

        footer p {
            font-size: 13px;       /* í…ìŠ¤íŠ¸ í¬ê¸° */
            margin: 8px 0;         /* ê° ë¬¸ì¥ ê°„ ê°„ê²© */
            line-height: 1.5;      /* ì¤„ ê°„ê²© */
        }

        footer p1 {
            font-size: 13px;
            text-align: left;
        }

        footer::before {
            content: "";
            display: block;
            width: 68%;
            margin: 0 auto;        /* ì¤‘ì•™ ì •ë ¬ */
            border-top: 1px solid #ccc;
            margin-bottom: 10px; /* ì„ ê³¼ í…ìŠ¤íŠ¸ ê°„ê²© */
        }

        .login-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 32px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 1001;
            min-width: 360px;
            max-width: 420px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalFadeIn 0.2s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -48%) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 24px;
            border-radius: 12px;
            background: #e9ecef;
            padding: 4px;
        }

        .auth-tab {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            color: #6c757d;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .auth-tab.active {
            background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(0, 113, 227, 0.3);
        }

        .auth-tab:hover:not(.active) {
            color: #0071e3;
        }

        .auth-form {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-container h2 {
            margin: 0 0 24px 0;
            font-size: 24px;
            background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-container input {
            margin: 8px 0;
            padding: 12px 16px;
            width: calc(100% - 32px);
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .login-container input:focus {
            outline: none;
            border-color: #0071e3;
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }

        .login-container button:not(.auth-tab) {
            padding: 12px 24px;
            background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            margin-top: 16px;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);
        }

        .login-container button:not(.auth-tab):hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 113, 227, 0.4);
        }

        .auth-notice {
            margin-top: 16px;
            font-size: 12px;
            color: #6c757d;
            line-height: 1.5;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .footer-top {
            display: flex;
            justify-content: flex-end;
            align-items: flex-end;
            background-color: #ffffff;
            color: #ffffff;
            padding: 5px;
            font-size: 12px;
            gap: 10px;
        }

        .footer-top button:disabled {
            background-color: #ccc;
            color: #666;
            cursor: not-allowed;
        }

        .footer-top button {
            background-color: #ffffff;
            color: #7a7878;
            border: none;
            cursor: pointer;
            font-size: 12px;
            padding: 5px 5px;
            border-radius: 4px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-top button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        .footer-top button img {
            height: 16px;
            width: 16px;
        }
        
        .partner-logos {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            padding: 30px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .partner-logos a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            min-width: 40px;
            background: #ffffff;
            border-radius: 12px;
            padding: 6px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .partner-logos a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 113, 227, 0.05) 0%, rgba(0, 91, 181, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .partner-logos a:hover {
            transform: translateY(-2px) scale(1.1);
            box-shadow: 0 4px 16px rgba(0, 113, 227, 0.2);
        }
        
        .partner-logos a:hover::before {
            opacity: 1;
        }

        .partner-logos img {
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 6px;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }
        
        .partner-logos a:hover img {
            transform: scale(1.2);
        }

#board {
  width: 80%;
  margin: 20px auto;
  text-align: left;
}

#board h2 {
  text-align: center;
  margin-bottom: 20px;
}
#board-form input,
#board-form textarea {
  width: 100%;
  padding: 10px;
  margin: 5px 0;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 14px;
}
#board-form textarea {
  height: 100px;
  resize: vertical;
}
#board-form button {
  padding: 10px 20px;
  background-color: #0071e3;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}
#board-form button:hover {
  background-color: #005bb5;
}
.post {
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 10px;
  margin-bottom: 10px;
}
.post h3 {
  margin: 0;
  font-size: 18px;
}
.post p {
  margin: 5px 0;
  font-size: 14px;
}

.inquiry-board {
  max-width: 1000px;
  margin: 40px auto;
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.04);
  padding: 40px 50px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  border: 1px solid rgba(0,0,0,0.05);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.inquiry-board:hover {
  box-shadow: 0 12px 40px rgba(0,0,0,0.12), 0 4px 12px rgba(0,0,0,0.06);
}

.board-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 2px solid #e9ecef;
  gap: 20px;
}

.board-header h2 {
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0;
  letter-spacing: -0.5px;
}

.inquiry-btn {
  padding: 12px 24px;
  background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
  color: #fff;
  border: none;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);
  letter-spacing: 0.3px;
}

.inquiry-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 113, 227, 0.4);
  background: linear-gradient(135deg, #005bb5 0%, #004a94 100%);
}

.inquiry-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(0, 113, 227, 0.3);
}

.board-table {
  border-top: 2px solid #e9ecef;
  border-bottom: 1px solid #e9ecef;
  padding: 25px 0;
  background: #fff;
  border-radius: 12px;
  margin-top: 20px;
}

.table-header {
  display: grid;
  grid-template-columns: 60px 100px 1fr 120px 80px;
  font-weight: 700;
  border-bottom: 2px solid #e9ecef;
  padding: 15px 20px;
  margin-bottom: 10px;
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  border-radius: 8px 8px 0 0;
  color: #495057;
  font-size: 14px;
  letter-spacing: 0.3px;
}

.table-empty {
  text-align: center;
  padding: 60px 20px;
  font-weight: 500;
  color: #6c757d;
  font-size: 16px;
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  border-radius: 12px;
  margin: 20px;
  border: 2px dashed #dee2e6;
  position: relative;
}

.table-empty::before {
  content: "ğŸ“‹";
  font-size: 48px;
  display: block;
  margin-bottom: 16px;
  opacity: 0.5;
}

.table-row {
  display: grid;
  grid-template-columns: 60px 100px 1fr 120px 80px;
  font-size: 14px;
  padding: 16px 20px;
  align-items: center;
  border-bottom: 1px solid #f1f3f5;
  transition: all 0.2s ease;
  border-radius: 8px;
  margin: 4px 0;
}

.table-row:hover {
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  transform: translateX(4px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.table-row span {
  padding: 0 8px;
  color: #495057;
}

.table-row a {
  text-decoration: none;
  color: #0071e3;
  font-weight: 500;
  transition: all 0.2s ease;
  display: inline-block;
}

.table-row a:hover {
  color: #005bb5;
  text-decoration: underline;
  transform: translateX(2px);
}

.table-row button {
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
  color: white;
  border: none;
  border-radius: 6px;
  padding: 4px 8px;
  cursor: pointer;
  font-size: 11px;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(255, 107, 107, 0.3);
  min-width: 45px;
  height: 24px;
  line-height: 1;
}

.table-row button:hover {
  background: linear-gradient(135deg, #ee5a6f 0%, #dc4a5f 100%);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(255, 107, 107, 0.4);
}

.table-row button:active {
  transform: translateY(0);
}

.board-notice {
  font-size: 14px;
  color: #6c757d;
  margin-top: 30px;
  line-height: 1.8;
  padding: 20px 24px;
  background: linear-gradient(135deg, #e7f5ff 0%, #f0f9ff 100%);
  border-radius: 12px;
  border-left: 4px solid #0071e3;
  box-shadow: 0 2px 8px rgba(0, 113, 227, 0.1);
  transition: all 0.3s ease;
}

.board-notice:hover {
  box-shadow: 0 4px 12px rgba(0, 113, 227, 0.15);
  transform: translateX(4px);
}

.pagination-dot {
  margin: 0 3px;
  cursor: pointer;
  font-size: 12px;
  color: #adb5bd;
  outline: none;
  transition: all 0.2s ease;
  padding: 0;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

.pagination-dot:hover {
  background-color: #e9ecef;
  color: #495057;
  transform: scale(1.03);
}

.pagination-dot.active {
  color: white;
  background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%);
  box-shadow: 0 1px 4px rgba(0, 113, 227, 0.3);
  transform: scale(1.05);
}

.pagination-dot:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(0, 113, 227, 0.2);
}

  #submitBtn,
  #cancelBtn {
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    letter-spacing: 0.3px;
  }

  #submitBtn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  }

  #cancelBtn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }

  #as-form {
    animation: slideDown 0.2s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .table-row {
    animation: fadeIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  #content-modal {
    animation: modalFadeIn 0.2s ease-out;
  }

  @keyframes modalFadeIn {
    from {
      opacity: 0;
      transform: translate(-50%, -48%) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
  }

  #modal-overlay {
    animation: overlayFadeIn 0.3s ease-out;
  }

  @keyframes overlayFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

        .hamburger { display: none; background: transparent; border: 0; padding: 8px; cursor: pointer; }
        .hamburger .bar { display: block; width: 22px; height: 2px; margin: 4px 0; background: #000; transition: transform 0.3s, opacity 0.3s; }
        .mobile-drawer { display: none !important; }

        .login {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-direction: row;
        }

        .employee-btn {
            display: flex;
            align-items: center;
        }
        
        .employee-btn button {
            padding: 6px 12px;
            font-size: 13px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .employee-btn button:not(:disabled) {
            background: linear-gradient(135deg, #44aa6b 0%, #3a8f5a 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(68, 170, 107, 0.3);
        }

        .employee-btn button:not(:disabled):hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(68, 170, 107, 0.4);
        }

        .employee-btn button:disabled {
            background-color: #e9ecef;
            color: #adb5bd;
            cursor: not-allowed;
        }

        /* ë¡œê·¸ì¸ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
        .login-icon {
            height: 20px;
            width: auto;
            margin-right: 5px;
            vertical-align: middle;
        }

        .navbar > .logo {
            margin-right: auto;
        }

        @media (max-width: 1024px) {
  .navbar {
                display: grid;
                grid-template-columns: auto 1fr auto;
                align-items: center;
                height: 59px;
                padding: 0 8px;
            }

            .navbar .login a {
                margin: 0 !important;
            }

            .navbar .login {
                grid-column: 3;
                margin-left: auto;
                display: flex;
                flex-direction: row;
                gap: 8px;
                align-items: center;
            }
            
            .employee-btn {
                display: flex !important;
            }
            
            .employee-btn button {
                padding: 6px 12px;
                font-size: 12px;
            }
            .navbar > div:not(.logo):not(.login):not(.mobile-only) {
                display: none;
            }
            .employee-btn { 
                display: block;
                pointer-events: auto;
            }
            .employee-btn button:disabled {
                pointer-events: none !important;
                cursor: default;
            }
            .employee-btn:has(button:disabled) {
                pointer-events: none !important;
            }
            .footer-top { display: none; }
            .login-icon { display: none; }
            .navbar > .logo { 
                margin-right: 0;
            }

            .hamburger {
                grid-column: 1;
                display: inline-flex;
                width: 28px;
                height: 24px;
                position: relative;
                justify-self: start;
                padding: 0;
                border: 0;
                background: transparent;
                cursor: pointer;
                z-index: 1003 !important;
            }

            .hamburger .bar {
                position: absolute;
                left: 0;
                right: 0;
                height: 2px;
                background: #000;
                margin: 0;
            }
            
            .hamburger .bar:nth-child(1) {
                top: 2px;
            }
            .hamburger .bar:nth-child(2) {
                top: 11px;
            }
            .hamburger .bar:nth-child(3) {
                bottom: 2px;
            }

            .navbar .logo {
                grid-column: 2;
                justify-self: start;
                align-self: center;
                position: static;
                transform: none;
                z-index: 1;
                margin-top: 0;
                margin-left: 12px;
            }

            .navbar .logo img {
                height: 55px;
            }
            
            .navbar .logo span {
                font-size: 14px !important;
                font-weight: bold;
            }

            .navbar > div:not(.logo):not(.login):not(.mobile-only) { display: none; }

            .mobile-drawer {
                position: fixed;
                top: 59px;
                left: 0;
                width: 80%;
                max-width: 340px;
                height: calc(100vh - 59px);
                background: #fff;
                box-shadow: 2px 0 12px rgba(0,0,0,0.15);
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                display: flex !important;
                flex-direction: column;
                padding: 16px 20px;
                gap: 8px;
                z-index: 1001;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .mobile-drawer a {
                padding: 12px 0;
                border-bottom: 1px solid #eee;
                text-align: left;
                font-weight: bold;
                color: #000;
                text-decoration: none;
            }

            .mobile-drawer.open { transform: translateX(0); }

            .body.menu-open { overflow: hidden; }
            .overlay.menu-open { display: block !important; }

            .inquiry-board {
                margin: 20px auto;
                padding: 24px 16px;
                border-radius: 16px;
            }

            .board-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
                margin-bottom: 20px;
            }

            .board-header > div {
                width: 100%;
            }

            .board-header > div > div:first-child {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }

            .board-header h2 {
                font-size: 20px;
                width: 100%;
            }

            .inquiry-btn {
                width: 100%;
                padding: 14px;
                font-size: 15px;
                margin-left: 0 !important;
            }

            .table-header {
                grid-template-columns: 40px 60px 1fr 80px 50px;
                font-size: 11px;
                padding: 12px 8px;
            }

            .table-row {
                grid-template-columns: 40px 60px 1fr 80px 50px !important;
                font-size: 12px !important;
                padding: 12px 8px !important;
            }

            .table-row span {
                font-size: 11px !important;
                padding: 0 4px !important;
            }

            .table-row button {
                font-size: 10px !important;
                padding: 3px 6px !important;
                min-width: 40px !important;
                height: 22px !important;
            }

            #as-form {
                padding: 20px 16px;
                margin-top: 20px;
            }

            #as-form input, #as-form textarea, #as-form select {
                font-size: 14px;
                padding: 12px;
            }

            #content-modal {
                max-width: 95%;
                padding: 24px;
                max-height: 90vh;
            }

            footer { 
                padding: 14px 12px 18px;
            }
            footer::before{
    width: 90%;
                margin-bottom: 10px;
            }
            footer p{
                font-size: 10px;
                line-height: 1.35;
                letter-spacing: 0;
                text-align: left;
                margin: 4px 0;
            }
            
            .partner-logos {
                gap: 16px;
                padding: 25px 15px;
            }
            
            .partner-logos a {
                width: 35px;
                height: 35px;
                min-width: 35px;
                padding: 6px;
            }
            
            .partner-logos img {
                max-width: 100%;
                max-height: 100%;
            }
        }
    </style>
</head>

    <body>
    <div class="overlay" id="overlay"></div>

    <div class="login-container" id="login-container">
        <!-- íƒ­ ë²„íŠ¼ -->
        <div class="auth-tabs">
            <button class="auth-tab active" onclick="showAuthTab('login')">ë¡œê·¸ì¸</button>
            <button class="auth-tab" onclick="showAuthTab('register')">íšŒì›ê°€ì…</button>
        </div>
        
        <!-- ë¡œê·¸ì¸ í¼ -->
        <div id="login-form" class="auth-form">
            <input type="text" id="username" placeholder="ì•„ì´ë””">
            <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
            <button onclick="login()">ë¡œê·¸ì¸</button>
        </div>
        
        <!-- íšŒì›ê°€ì… í¼ -->
        <div id="register-form" class="auth-form" style="display: none;">
            <input type="text" id="reg-username" placeholder="ì•„ì´ë”” (4ì ì´ìƒ)">
            <input type="password" id="reg-password" placeholder="ë¹„ë°€ë²ˆí˜¸ (6ì ì´ìƒ)">
            <input type="password" id="reg-password-confirm" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸">
            <input type="text" id="reg-name" placeholder="ì´ë¦„">
            <input type="email" id="reg-email" placeholder="ì´ë©”ì¼">
            <input type="tel" id="reg-phone" placeholder="ì—°ë½ì²˜">
            <button onclick="register()">íšŒì›ê°€ì… ì‹ ì²­</button>
            <p class="auth-notice">* íšŒì›ê°€ì… í›„ ê´€ë¦¬ì ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <header class="navbar">
      <button class="hamburger" id="hamburger" aria-label="ë©”ë‰´ ì—´ê¸°" aria-controls="mobile-nav" aria-expanded="false">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
      </button>

        <div class="logo">
            <img src="../image/logo-nav.png" alt="ë¡œê³ " style="height: 40px;">
        </div>

      <nav id="mobile-nav" class="mobile-drawer" role="navigation" aria-label="ëª¨ë°”ì¼ ë©”ë‰´">
          <a href="../../index.html">í™ˆ</a>
          <a href="../company/company.html">íšŒì‚¬ì†Œê°œ</a>
          <a href="../product/product.html">ì œí’ˆì†Œê°œ</a>
          <a href="../school/school.html">ë‚©í’ˆí•™êµ ë¦¬ìŠ¤íŠ¸</a>
          <a href="../Gallery/Gallery.html">ê°¤ëŸ¬ë¦¬</a>
          <a href="../AS/AS.html">A/Sì‹ ì²­</a>
          <a href="#">ê³ ê°ì§€ì›</a>
      </nav>

        <div>
            <a href="../../index.html">í™ˆ</a>
        </div>

        <div>
            <a href="../company/company.html">íšŒì‚¬ì†Œê°œ</a>
        </div>

        <div>
            <a href="../product/product.html">ì œí’ˆì†Œê°œ</a>
        </div>
        
        <div>
            <a href="../school/school.html">ë‚©í’ˆí•™êµ ë¦¬ìŠ¤íŠ¸</a>
        </div>

        <div>
            <a href="../Gallery/Gallery.html">ê°¤ëŸ¬ë¦¬</a>
        </div>

        <div>
            <a href="../AS/AS.html">A/Sì‹ ì²­</a>
        </div>

        <div>
            <a href="#">ê³ ê°ì§€ì›</a>
        </div>
        
        <div class="login">
            <a href="#" onclick="showLogin()" id="login-link" class="login-item">
                <img src="../image/login.png" alt="ë¡œê·¸ì¸" class="login-icon"> ë¡œê·¸ì¸
            </a>
            <a href="#" onclick="logout()" id="logout-link" class="login-item" style="display:none;">
                <img src="../image/logout.png" alt="ë¡œê·¸ì•„ì›ƒ" class="login-icon"> ë¡œê·¸ì•„ì›ƒ
            </a>
            <a href="../staff/staff.html" class="employee-btn">
                <button class="employee-button" disabled>ì„ì§ì›</button>
            </a>
        </div>
    </header>

    <script>
        // Firebase ì´ˆê¸°í™”ëŠ” auth.jsì—ì„œ ì²˜ë¦¬ë¨
        // A/S í˜ì´ì§€ëŠ” Storageì™€ Firestoreë§Œ ì‚¬ìš©
        let storage = null;
        let db = null;
        
        // auth.jsê°€ Firebaseë¥¼ ì´ˆê¸°í™”í•œ í›„ Storageì™€ Firestore ì°¸ì¡° ê°€ì ¸ì˜¤ê¸°
        function initFirebaseServices() {
            try {
                if (typeof firebase !== 'undefined' && firebase.apps.length > 0) {
                    storage = firebase.storage();
                    db = firebase.firestore();
                } else {
                    // auth.jsê°€ ì•„ì§ ì´ˆê¸°í™”í•˜ì§€ ì•Šì€ ê²½ìš° ì ì‹œ í›„ ì¬ì‹œë„
                    setTimeout(initFirebaseServices, 100);
                }
            } catch (error) {
                console.warn('Firebase ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
            }
        }
        
        // DOMContentLoaded ë˜ëŠ” auth.js ë¡œë“œ í›„ ì´ˆê¸°í™”
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initFirebaseServices);
        } else {
            initFirebaseServices();
        }

        let asPosts = [];
        let currentPage = 1;
        const postsPerPage = 10;
        let selectedFiles = []; // ì„ íƒëœ íŒŒì¼ë“¤ì„ ì¶”ì í•˜ëŠ” ì „ì—­ ë³€ìˆ˜

        document.addEventListener("DOMContentLoaded", function() {
            // ë¡œê·¸ì¸ ìƒíƒœëŠ” auth.jsì˜ setLoggedInStateì—ì„œ ì²˜ë¦¬
            // íƒ€ì´ë¨¸ëŠ” auth.jsì˜ resetAutoLogoutTimerì—ì„œ ìë™ìœ¼ë¡œ ì‹œì‘ë¨
            loadAsPosts().then(posts => {
                asPosts = posts || [];
                renderAsPosts();
            }).catch(error => {
                console.error('A/S ê²Œì‹œê¸€ ë¡œë“œ ì‹¤íŒ¨:', error);
                asPosts = [];
                renderAsPosts();
            });
            
            // ì„ì§ì› ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆì„ ë•Œ í´ë¦­ ì´ë²¤íŠ¸ ë§‰ê¸°
            const employeeBtn = document.querySelector('.employee-btn');
            if (employeeBtn) {
                employeeBtn.addEventListener('click', function(e) {
                    const button = employeeBtn.querySelector('button');
                    if (button && button.disabled) {
                        e.preventDefault();
                        e.stopPropagation();
                        return false;
                    }
                });
            }

            // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ë° ì‚­ì œ ê¸°ëŠ¥
            const imageUpload = document.getElementById('image-upload');

            if (imageUpload) {
                imageUpload.addEventListener('change', function (event) {
                    const previewContainer = document.getElementById('image-preview');
                    if (!previewContainer) return;
                    
                    const files = Array.from(event.target.files);
                    
                    // ìƒˆë¡œ ì„ íƒëœ íŒŒì¼ë“¤ì„ ê¸°ì¡´ ëª©ë¡ì— ì¶”ê°€
                    files.forEach(file => {
                        if (!selectedFiles.find(f => f.name === file.name && f.size === file.size && f.lastModified === file.lastModified)) {
                            selectedFiles.push(file);
                        }
                    });
                    
                    updatePreview();
                });
                
                function updatePreview() {
                    const previewContainer = document.getElementById('image-preview');
                    if (!previewContainer) return;
                    
                    previewContainer.innerHTML = '';
                    
                    if (selectedFiles.length === 0) {
                        // input í•„ë“œë„ ì´ˆê¸°í™”
                        imageUpload.value = '';
                        return;
                    }
                    
                    selectedFiles.forEach((file, index) => {
                        const fileWrapper = document.createElement('div');
                        fileWrapper.style.position = 'relative';
                        fileWrapper.style.display = 'inline-block';
                        fileWrapper.style.margin = '8px';
                        
                        // íŒŒì¼ ê³ ìœ  ì‹ë³„ì ìƒì„±
                        const fileId = file.name + '_' + file.size + '_' + file.lastModified;
                        
                        if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function (e) {
                                const img = document.createElement('img');
                                img.src = e.target.result;
                                img.style.width = '120px';
                                img.style.height = '120px';
                                img.style.objectFit = 'cover';
                                img.style.border = '2px solid #e9ecef';
                                img.style.borderRadius = '12px';
                                img.style.padding = '4px';
                                img.style.background = '#fff';
                                img.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
                                img.style.transition = 'transform 0.2s ease';
                                img.onmouseenter = function() { this.style.transform = 'scale(1.05)'; };
                                img.onmouseleave = function() { this.style.transform = 'scale(1)'; };
                                
                                // ì‚­ì œ ë²„íŠ¼
                                const deleteBtn = document.createElement('button');
                                deleteBtn.innerHTML = 'Ã—';
                                deleteBtn.style.position = 'absolute';
                                deleteBtn.style.top = '-8px';
                                deleteBtn.style.right = '-8px';
                                deleteBtn.style.width = '24px';
                                deleteBtn.style.height = '24px';
                                deleteBtn.style.borderRadius = '50%';
                                deleteBtn.style.border = 'none';
                                deleteBtn.style.background = 'linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)';
                                deleteBtn.style.color = 'white';
                                deleteBtn.style.fontSize = '18px';
                                deleteBtn.style.fontWeight = 'bold';
                                deleteBtn.style.cursor = 'pointer';
                                deleteBtn.style.boxShadow = '0 2px 6px rgba(255, 107, 107, 0.4)';
                                deleteBtn.style.display = 'flex';
                                deleteBtn.style.alignItems = 'center';
                                deleteBtn.style.justifyContent = 'center';
                                deleteBtn.style.lineHeight = '1';
                                deleteBtn.style.transition = 'all 0.2s ease';
                                deleteBtn.style.zIndex = '10';
                                
                                deleteBtn.onmouseenter = function() {
                                    this.style.transform = 'scale(1.1)';
                                    this.style.boxShadow = '0 4px 12px rgba(255, 107, 107, 0.6)';
                                };
                                deleteBtn.onmouseleave = function() {
                                    this.style.transform = 'scale(1)';
                                    this.style.boxShadow = '0 2px 6px rgba(255, 107, 107, 0.4)';
                                };
                                
                                deleteBtn.onclick = function(e) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    // íŒŒì¼ ê³ ìœ  ì‹ë³„ìë¡œ ì°¾ì•„ì„œ ì œê±°
                                    const fileIndex = selectedFiles.findIndex(f => 
                                        f.name === file.name && 
                                        f.size === file.size && 
                                        f.lastModified === file.lastModified
                                    );
                                    if (fileIndex !== -1) {
                                        selectedFiles.splice(fileIndex, 1);
                                        updatePreview();
                                        updateFileInput();
                                    }
                                };
                                
                                fileWrapper.appendChild(img);
                                fileWrapper.appendChild(deleteBtn);
                                previewContainer.appendChild(fileWrapper);
                            };
                            reader.readAsDataURL(file);
                        } else {
                            // ì´ë¯¸ì§€ê°€ ì•„ë‹Œ íŒŒì¼ì˜ ê²½ìš°
                            const fileDiv = document.createElement('div');
                            fileDiv.style.padding = '10px';
                            fileDiv.style.background = '#f8f9fa';
                            fileDiv.style.border = '2px solid #e9ecef';
                            fileDiv.style.borderRadius = '8px';
                            fileDiv.style.minWidth = '120px';
                            fileDiv.style.textAlign = 'center';
                            fileDiv.style.position = 'relative';
                            
                            const fileName = document.createElement('div');
                            fileName.textContent = file.name;
                            fileName.style.fontSize = '12px';
                            fileName.style.color = '#495057';
                            fileName.style.wordBreak = 'break-word';
                            fileName.style.marginBottom = '8px';
                            
                            // ì‚­ì œ ë²„íŠ¼
                            const deleteBtn = document.createElement('button');
                            deleteBtn.innerHTML = 'Ã—';
                            deleteBtn.style.position = 'absolute';
                            deleteBtn.style.top = '-8px';
                            deleteBtn.style.right = '-8px';
                            deleteBtn.style.width = '24px';
                            deleteBtn.style.height = '24px';
                            deleteBtn.style.borderRadius = '50%';
                            deleteBtn.style.border = 'none';
                            deleteBtn.style.background = 'linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)';
                            deleteBtn.style.color = 'white';
                            deleteBtn.style.fontSize = '18px';
                            deleteBtn.style.fontWeight = 'bold';
                            deleteBtn.style.cursor = 'pointer';
                            deleteBtn.style.boxShadow = '0 2px 6px rgba(255, 107, 107, 0.4)';
                            deleteBtn.style.display = 'flex';
                            deleteBtn.style.alignItems = 'center';
                            deleteBtn.style.justifyContent = 'center';
                            deleteBtn.style.lineHeight = '1';
                            deleteBtn.style.transition = 'all 0.2s ease';
                            deleteBtn.style.zIndex = '10';
                            
                            deleteBtn.onmouseenter = function() {
                                this.style.transform = 'scale(1.1)';
                                this.style.boxShadow = '0 4px 12px rgba(255, 107, 107, 0.6)';
                            };
                            deleteBtn.onmouseleave = function() {
                                this.style.transform = 'scale(1)';
                                this.style.boxShadow = '0 2px 6px rgba(255, 107, 107, 0.4)';
                            };
                            
                            deleteBtn.onclick = function(e) {
                                e.preventDefault();
                                e.stopPropagation();
                                // íŒŒì¼ ê³ ìœ  ì‹ë³„ìë¡œ ì°¾ì•„ì„œ ì œê±°
                                const fileIndex = selectedFiles.findIndex(f => 
                                    f.name === file.name && 
                                    f.size === file.size && 
                                    f.lastModified === file.lastModified
                                );
                                if (fileIndex !== -1) {
                                    selectedFiles.splice(fileIndex, 1);
                                    updatePreview();
                                    updateFileInput();
                                }
                            };
                            
                            fileDiv.appendChild(fileName);
                            fileDiv.appendChild(deleteBtn);
                            fileWrapper.appendChild(fileDiv);
                            previewContainer.appendChild(fileWrapper);
                        }
                    });
                }
                
                function updateFileInput() {
                    // DataTransferë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ ëª©ë¡ ì—…ë°ì´íŠ¸
                    const dataTransfer = new DataTransfer();
                    selectedFiles.forEach(file => {
                        dataTransfer.items.add(file);
                    });
                    imageUpload.files = dataTransfer.files;
                }
            }
        });
    </script>

    <!-- ê³µí†µ ì¸ì¦ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../js/auth.js"></script>

    <script>
document.addEventListener('DOMContentLoaded', function () {
  const burger = document.getElementById('hamburger');
  const drawer = document.getElementById('mobile-nav');
  const overlay = document.getElementById('overlay');
  if (!burger || !drawer || !overlay) return;

  let prevFocus = null;
  function setState(open) {
    burger.setAttribute('aria-expanded', String(open));
    burger.setAttribute('aria-label', open ? 'ë©”ë‰´ ë‹«ê¸°' : 'ë©”ë‰´ ì—´ê¸°');
    drawer.classList.toggle('open', open);
    document.body.classList.toggle('menu-open', open);
    overlay.classList.toggle('menu-open', open);
  }
  function openMenu() {
    const login = document.getElementById('login-container');
    if (login && login.style.display === 'block' && typeof hideLogin === 'function') hideLogin();
    prevFocus = document.activeElement;
    setState(true);
    const first = drawer.querySelector('a');
    if (first) first.focus();
  }
  function closeMenu() {
    setState(false);
    if (prevFocus && prevFocus.focus) prevFocus.focus();
    prevFocus = null;
  }
  function toggleMenu() {
    const isOpen = drawer.classList.contains('open');
    isOpen ? closeMenu() : openMenu();
  }

  burger.addEventListener('click', function(e) {
    e.preventDefault();
    e.stopPropagation();
    toggleMenu();
  });
  overlay.addEventListener('click', () => { if (drawer.classList.contains('open')) closeMenu(); });
  drawer.querySelectorAll('a').forEach(a => a.addEventListener('click', closeMenu));
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && drawer.classList.contains('open')) closeMenu(); });
  window.addEventListener('resize', () => { if (window.innerWidth > 1024 && drawer.classList.contains('open')) closeMenu(); });
});
</script>

    <script>
        function toggleAsForm() {
  const form = document.getElementById('as-form');
            const list = document.getElementById('as-list');
            const notice = document.getElementById('as-notice');
            const pagination = document.getElementById('pagination');

  const showForm = form.style.display === 'none' || form.style.display === '';

  form.style.display = showForm ? 'block' : 'none';
            if (list) list.style.display = showForm ? 'none' : 'block';
            if (notice) notice.style.display = showForm ? 'none' : 'block';
            if (pagination) pagination.style.display = showForm ? 'none' : 'flex';
        }

        // Firebase Firestoreì—ì„œ A/S ê²Œì‹œê¸€ ë¡œë“œ
        async function loadAsPosts() {
            // Firebaseê°€ ì´ˆê¸°í™”ë  ë•Œê¹Œì§€ ëŒ€ê¸° (ìµœëŒ€ 5ì´ˆ)
            let retryCount = 0;
            while (!db && retryCount < 10) {
                await new Promise(resolve => setTimeout(resolve, 500));
                retryCount++;
            }
            
            if (db) {
                // Firebase Firestore ì‚¬ìš©
                try {
                    const snapshot = await db.collection('asPosts').doc('posts').get();
                    if (snapshot.exists) {
                        const posts = snapshot.data().posts || [];
                        console.log('Firebaseì—ì„œ A/S ê²Œì‹œê¸€ ë¡œë“œ ì™„ë£Œ:', posts.length, 'ê°œ');
                        return Array.isArray(posts) ? posts : [];
                    } else {
                        // ê¸°ì¡´ localStorage ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
                        const stored = localStorage.getItem('asPosts');
                        if (stored) {
                            try {
                                const posts = JSON.parse(stored);
                                if (Array.isArray(posts) && posts.length > 0) {
                                    // Firebaseë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
                                    await db.collection('asPosts').doc('posts').set({ posts: posts });
                                    console.log('localStorage ë°ì´í„°ë¥¼ Firebaseë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ');
                                    return posts;
                                }
                            } catch (parseError) {
                                console.error('localStorage ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', parseError);
                            }
                        }
                        return [];
                    }
                } catch (error) {
                    console.error('Firebase ë¡œë“œ ì‹¤íŒ¨:', error);
                    // ì‹¤íŒ¨ ì‹œ localStorage ì‚¬ìš©
                    const stored = localStorage.getItem('asPosts');
                    if (stored) {
                        try {
                            const posts = JSON.parse(stored);
                            return Array.isArray(posts) ? posts : [];
                        } catch (parseError) {
                            console.error('localStorage ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', parseError);
                            return [];
                        }
                    }
                    return [];
                }
            } else {
                // Firebaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ê²½ìš° localStorage ì‚¬ìš©
                console.warn('Firebaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•„ localStorageì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤.');
                const stored = localStorage.getItem('asPosts');
                if (stored) {
                    try {
                        const posts = JSON.parse(stored);
                        return Array.isArray(posts) ? posts : [];
                    } catch (parseError) {
                        console.error('localStorage ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨:', parseError);
                        return [];
                    }
                }
                return [];
            }
        }

        // Firebase Firestoreì— A/S ê²Œì‹œê¸€ ì €ì¥
        async function saveAsPosts(posts) {
            if (db) {
                // Firebase Firestore ì‚¬ìš©
                try {
                    await db.collection('asPosts').doc('posts').set({ posts: posts });
                    console.log('Firebaseì— A/S ê²Œì‹œê¸€ ì €ì¥ ì™„ë£Œ');
                    // ì €ì¥ ì„±ê³µ í›„ localStorageì—ë„ ë°±ì—… (ì˜¤í”„ë¼ì¸ ëŒ€ë¹„)
                    localStorage.setItem('asPosts', JSON.stringify(posts));
                    return true;
                } catch (error) {
                    console.error('Firebase ì €ì¥ ì‹¤íŒ¨:', error);
                    // ì‹¤íŒ¨ ì‹œ localStorageì— ë°±ì—…
                    localStorage.setItem('asPosts', JSON.stringify(posts));
                    alert('ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                    return false;
                }
            } else {
                // localStorage ì‚¬ìš© (Firebaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì€ ê²½ìš°)
                console.warn('Firebaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•„ localStorageì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.');
                localStorage.setItem('asPosts', JSON.stringify(posts));
                return false;
            }
        }

function renderAsPosts() {
  const list = document.getElementById('as-list-body');
            if (!list) return;
            
  list.innerHTML = '';

  // asPostsê°€ ë°°ì—´ì´ ì•„ë‹ˆë©´ ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”
  if (!Array.isArray(asPosts)) {
    asPosts = [];
  }

if (asPosts.length === 0) {
  list.innerHTML = '<div class="table-empty">A/Sì‹ ì²­ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
                const pagination = document.getElementById('pagination');
                if (pagination) pagination.innerHTML = '';
  return;
}

  const start = (currentPage - 1) * postsPerPage;
  const end = start + postsPerPage;
  const pagePosts = asPosts.slice(start, end);

  pagePosts.forEach((post, index) => {
    const row = document.createElement('div');
    row.className = 'table-row';
    row.style.display = 'grid';
    row.style.gridTemplateColumns = '60px 100px 1fr 120px 80px';
    row.style.fontSize = '14px';
    row.style.padding = '8px 0';
    row.style.alignItems = 'center';

                const globalIndex = start + index;
    row.innerHTML = `
                    <span>${globalIndex + 1}</span>
                    <span>${post.type || ''}</span>
                    <span><a href="#" onclick="viewContent(${globalIndex}); return false;" style="text-decoration: underline; color: blue; cursor: pointer;">${post.title || ''}</a></span>
                    <span>${post.date || ''}</span>
                    <span><button onclick="deleteAsPost(${globalIndex})" style="padding:4px 8px; font-size:11px; cursor: pointer; min-width: 45px; height: 24px;">ì‚­ì œ</button></span>
    `;

    list.appendChild(row);
  });

  renderPagination();
}

function deleteAsPost(index) {
  if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
    asPosts.splice(index, 1);
                saveAsPosts(asPosts).then(() => {
                    currentPage = 1;
                    renderAsPosts();
                });
  }
}

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            if (!pagination) return;
            
            pagination.innerHTML = '';
            const totalPages = Math.ceil(asPosts.length / postsPerPage);

            if (totalPages === 0) return;

            const prevBtn = document.createElement('span');
            prevBtn.textContent = 'â—€';
            prevBtn.className = 'pagination-dot';
            prevBtn.style.cursor = currentPage > 1 ? 'pointer' : 'not-allowed';
            prevBtn.style.opacity = currentPage > 1 ? '1' : '0.5';
            prevBtn.style.fontSize = '12px';
            prevBtn.style.width = '18px';
            prevBtn.style.height = '18px';
            prevBtn.onclick = () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderAsPosts();
                }
            };
            pagination.appendChild(prevBtn);

            for (let i = 1; i <= totalPages; i++) {
                const dot = document.createElement('span');
                dot.textContent = 'â—';
                dot.className = 'pagination-dot';
                dot.setAttribute('tabindex', '0');
                if (i === currentPage) {
                    dot.classList.add('active');
                }
                dot.onclick = () => {
                    currentPage = i;
                    dot.focus();
                    renderAsPosts();
                };
                pagination.appendChild(dot);
            }

            const nextBtn = document.createElement('span');
            nextBtn.textContent = 'â–¶';
            nextBtn.className = 'pagination-dot';
            nextBtn.style.cursor = currentPage < totalPages ? 'pointer' : 'not-allowed';
            nextBtn.style.opacity = currentPage < totalPages ? '1' : '0.5';
            nextBtn.style.fontSize = '12px';
            nextBtn.style.width = '18px';
            nextBtn.style.height = '18px';
            nextBtn.onclick = () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    renderAsPosts();
                }
            };
            pagination.appendChild(nextBtn);
}
</script>

<section class="inquiry-board">
  <div class="board-header">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
        <h2 style="margin: 0;">A/Sì‹ ì²­ ê²Œì‹œíŒ</h2>
        <button class="inquiry-btn" onclick="toggleAsForm()" style="margin-left: 20px; flex-shrink: 0;">
          <span style="margin-right: 6px;">âœï¸</span>A/S ì‹ ì²­
        </button>
      </div>
      <div style="font-size: 14px; color: #6c757d; line-height: 1.6; padding: 12px 16px; background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); border-radius: 10px; border-left: 4px solid #ffc107;">
        <strong style="color: #856404;">* í˜„ì¬ í…ŒìŠ¤íŠ¸ì¤‘</strong><br>
        <span style="color: #0071e3; font-weight: 600;">ì „í™” ì‹ ì²­(043-731-9511)ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤!</span> ì–‘í•´ë¶€íƒë“œë¦½ë‹ˆë‹¤.
      </div>
    </div>
  </div>

  <form id="as-form" style="display: none; text-align: left; margin-top: 30px; padding: 30px; background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);" enctype="multipart/form-data">
  <input type="hidden" name="_subject" value="A/S ì‹ ì²­ì„œ ì ‘ìˆ˜">
  <input type="hidden" name="_next" value="https://jmwfdisk.github.io/hanarooafurniture/AS/AS.html">
  <input type="hidden" name="_captcha" value="false">

  <div style="margin-bottom: 24px;">
    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #495057; font-size: 15px;"><strong>ë¬¸ì˜ ìœ í˜• *</strong></label>
      <select id="as-type" name="ë¬¸ì˜ìœ í˜•" required style="width: 100%; padding: 14px 16px; font-size: 15px; border: 2px solid #e9ecef; border-radius: 12px; background: #fff; color: #495057; transition: all 0.3s ease; outline: none; font-family: inherit;">
        <option value="">ë¬¸ì˜ ìœ í˜•ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.</option>
        <option>ì œí’ˆ íŒŒì†</option>
        <option>ì œí’ˆ ê¸°ëŠ¥ ë¶ˆëŸ‰</option>
        <option>ê¸°íƒ€</option>
      </select>
      <style>
        #as-type:focus {
          border-color: #0071e3;
          box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }
        #as-type:hover {
          border-color: #ced4da;
        }
      </style>
  </div>

  <div style="margin-bottom: 24px;">
    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #495057; font-size: 15px;"><strong>ì œëª© *</strong></label>
    <input type="text" id="as-title" name="ì œëª©" required placeholder="ì œëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”." style="width: 100%; padding: 14px 16px; font-size: 15px; border: 2px solid #e9ecef; border-radius: 12px; background: #fff; color: #495057; transition: all 0.3s ease; outline: none; font-family: inherit; box-sizing: border-box;">
    <style>
      #as-title:focus {
        border-color: #0071e3;
        box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
      }
      #as-title:hover {
        border-color: #ced4da;
      }
    </style>
  </div>

  <div style="margin-bottom: 24px;">
    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #495057; font-size: 15px;"><strong>ë‚´ìš© *</strong></label>
    <textarea id="as-content" name="ë‚´ìš©" required placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”." style="width: 100%; height: 180px; padding: 14px 16px; font-size: 15px; line-height: 1.8; border: 2px solid #e9ecef; border-radius: 12px; background: #fff; color: #495057; transition: all 0.3s ease; outline: none; font-family: inherit; resize: vertical; box-sizing: border-box;">
      1. ì‹ ì²­ê¸°ê´€(í•™êµëª…) :
      2. êµ¬ë§¤ì—°ë„ :
      3. íŒŒì†ë¶€ìœ„ ë° ìš”ì²­ë‚´ìš© :
      4. ìˆ˜ëŸ‰ :
      5. ì—°ë½ì²˜ :
    </textarea>
    <style>
      #as-content:focus {
        border-color: #0071e3;
        box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
      }
      #as-content:hover {
        border-color: #ced4da;
      }
    </style>
  </div>

  <div style="margin-bottom: 24px;">
    <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #495057; font-size: 15px;"><strong>ì²¨ë¶€ íŒŒì¼</strong></label>
    <div style="position: relative; display: inline-block; width: 100%;">
      <input type="file" name="ì²¨ë¶€íŒŒì¼" id="image-upload" multiple style="width: 100%; padding: 12px; font-size: 14px; border: 2px dashed #ced4da; border-radius: 12px; background: #f8f9fa; color: #495057; cursor: pointer; transition: all 0.3s ease;">
      <style>
        #image-upload:hover {
          border-color: #0071e3;
          background: #f0f7ff;
        }
        #image-upload:focus {
          outline: none;
          border-color: #0071e3;
          box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }
      </style>
    </div>
    <div id="image-preview" style="margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap;"></div>
    <style>
      #image-preview img {
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        transition: transform 0.2s ease;
      }
      #image-preview img:hover {
        transform: scale(1.05);
      }
    </style>
  </div>

<div style="text-align: center; margin-top: 32px; padding-top: 24px; border-top: 2px solid #e9ecef;">
  <!-- ì·¨ì†Œ ë²„íŠ¼ -->
  <button id="cancelBtn" type="button" onclick="toggleAsForm()" 
    style="padding: 14px 32px; background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border: 2px solid #dee2e6; border-radius: 12px; margin-right: 12px; font-size: 15px; font-weight: 600; color: #495057; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
    ì·¨ì†Œ
  </button>

  <!-- ë“±ë¡ ë²„íŠ¼ -->
  <button id="submitBtn" type="submit" 
    style="padding: 14px 32px; background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%); color: #fff; border: none; border-radius: 12px; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);">
    ë“±ë¡
  </button>
</div>
</form>

  <div class="board-table" id="as-list">
    <div class="table-header">
      <span>NO</span>
      <span>ìœ í˜•</span>
      <span>ì œëª©</span>
      <span>ë“±ë¡ì¼</span>
      <span>ìƒíƒœ</span>
    </div>

    <div id="as-list-body" class="table-body">
    <div class="table-empty">A/Sì‹ ì²­ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</div>
  </div>
</div>

<div id="pagination" style="display: flex; justify-content: center; margin-top: 15px; font-size: 20px;"></div>

  <div class="board-notice" id="as-notice">
    Â· ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”! (ë¹ ë¥´ê²Œ í™•ì¸ í›„ ì´ë©”ì¼ë¡œ ë‹µë³€ë“œë¦´ê²Œìš”.)<br>
    Â· A/Sì‹ ì²­ ê²Œì‹œíŒì„ í†µí•´ì„œëŠ” êµ¬ë§¤/ë°°ì†¡/ê²°ì œ ê´€ë ¨ ë¬¸ì œì— ëŒ€í•´ì„œëŠ” ë‹µë³€ì„ ë“œë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. ê¸°íƒ€ ë¬¸ì˜ì— ëŒ€í•´ì„œëŠ” ê³µì‹ë‹µë³€ì„ ë“œë¦¬ê¸° ì–´ë ¤ìš´ ì  ì–‘í•´ ë°”ëë‹ˆë‹¤.
  </div>
</section>



<script>
        function viewContent(index) {
            const isLoggedIn = sessionStorage.getItem("loggedIn");
            if (!isLoggedIn) {
                alert("ê´€ë¦¬ì ë¡œê·¸ì¸ í›„ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
                return;
            }

            if (index < 0 || index >= asPosts.length) {
                alert("ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }

            const post = asPosts[index];
            if (!post) {
                alert("ê²Œì‹œê¸€ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }

            const modalTitle = document.getElementById('modal-title');
            const modalType = document.getElementById('modal-type');
            const modalContent = document.getElementById('modal-content');
            const modalFiles = document.getElementById('modal-files');
            const modalImages = document.getElementById('modal-images');
            const contentModal = document.getElementById('content-modal');
            const modalOverlay = document.getElementById('modal-overlay');

            if (modalTitle) modalTitle.innerText = post.title || '';
            if (modalType) modalType.innerText = `[ë¬¸ì˜ ìœ í˜•] ${post.type || ''}`;
            if (modalContent) modalContent.innerText = post.content || '';
            
            if (modalFiles) {
                if (post.files && post.files.length > 0) {
                    modalFiles.innerHTML = `ì²¨ë¶€ íŒŒì¼: <br>` + post.files.map(name => `
                        <a href="#" onclick="downloadFile('${name}'); return false;" style="color:blue; text-decoration:underline; cursor: pointer;">${name}</a>
                    `).join('<br>');
                } else {
                    modalFiles.innerHTML = 'ì²¨ë¶€ íŒŒì¼: ì—†ìŒ';
                }
            }

            if (contentModal) contentModal.style.display = 'block';
            if (modalOverlay) modalOverlay.style.display = 'block';

            if (modalImages) {
                modalImages.innerHTML = '';
                if (post.files && post.files.length > 0) {
                    post.files.forEach((name, idx) => {
                        // Firebase Storage URL ìš°ì„  ì‚¬ìš©
                        let fileUrl = null;
                        let fileDataItem = null;
                        
                        // fileUrls ë°°ì—´ì—ì„œ ì°¾ê¸° (Firebase Storage)
                        if (post.fileUrls && post.fileUrls[idx]) {
                            fileUrl = post.fileUrls[idx];
                        }
                        // fileDataì—ì„œ ì°¾ê¸° (localStorage)
                        else if (post.fileData && post.fileData.length > 0) {
                            fileDataItem = post.fileData.find(f => f.name === name) || post.fileData[idx];
                            if (fileDataItem && fileDataItem.url) {
                                fileUrl = fileDataItem.url; // Firebase URL
                            } else if (fileDataItem && fileDataItem.data) {
                                fileUrl = 'data:' + fileDataItem.type + ';base64,' + fileDataItem.data; // base64
                            }
                        }
                        
                        if (name.match(/\.(jpg|jpeg|png|gif|webp)$/i) && fileUrl) {
                            const img = document.createElement('img');
                            img.alt = name;
                            img.style.width = '150px';
                            img.style.height = '150px';
                            img.style.objectFit = 'cover';
                            img.style.border = '2px solid #e9ecef';
                            img.style.borderRadius = '8px';
                            img.style.padding = '4px';
                            img.style.margin = '5px';
                            img.style.background = '#fff';
                            img.style.cursor = 'pointer';
                            img.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
                            img.src = fileUrl;
                            
                            img.onclick = function() {
                                if (fileUrl) {
                                    if (fileUrl.startsWith('http')) {
                                        // Firebase Storage URLì¸ ê²½ìš° ìƒˆ ì°½ì—ì„œ ì—´ê¸°
                                        window.open(fileUrl, '_blank');
                                    } else {
                                        // base64ì¸ ê²½ìš° ë‹¤ìš´ë¡œë“œ
                                        const link = document.createElement('a');
                                        link.href = fileUrl;
                                        link.download = name;
                                        link.click();
                                    }
                                }
                            };
                            
                            modalImages.appendChild(img);
                        } else if (!name.match(/\.(jpg|jpeg|png|gif|webp)$/i)) {
                            // ì´ë¯¸ì§€ê°€ ì•„ë‹Œ íŒŒì¼
                            const fileDiv = document.createElement('div');
                            fileDiv.style.padding = '10px';
                            fileDiv.style.margin = '5px';
                            fileDiv.style.background = '#f8f9fa';
                            fileDiv.style.border = '2px solid #e9ecef';
                            fileDiv.style.borderRadius = '8px';
                            fileDiv.style.display = 'inline-block';
                            
                            const fileName = document.createElement('div');
                            fileName.textContent = 'ğŸ“ ' + name;
                            fileName.style.color = '#495057';
                            fileName.style.fontSize = '14px';
                            
                            if (fileUrl) {
                                fileName.style.cursor = 'pointer';
                                fileName.style.textDecoration = 'underline';
                                fileName.onclick = function() {
                                    if (fileUrl.startsWith('http')) {
                                        window.open(fileUrl, '_blank');
                                    } else {
                                        const link = document.createElement('a');
                                        link.href = fileUrl;
                                        link.download = name;
                                        link.click();
                                    }
                                };
                            }
                            
                            fileDiv.appendChild(fileName);
                            modalImages.appendChild(fileDiv);
      }
    });
  }
            }
        }

function closeModal() {
            const contentModal = document.getElementById('content-modal');
            const modalOverlay = document.getElementById('modal-overlay');
            if (contentModal) contentModal.style.display = 'none';
            if (modalOverlay) modalOverlay.style.display = 'none';
}

function downloadFile(filename) {
    const post = asPosts.find(p => p.files && p.files.includes(filename));
    if (!post) {
        alert(`íŒŒì¼ "${filename}" ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
        return;
    }
    
    const fileIndex = post.files.indexOf(filename);
    
    // Firebase Storage URL ìš°ì„  ì‚¬ìš©
    if (post.fileUrls && post.fileUrls[fileIndex]) {
        window.open(post.fileUrls[fileIndex], '_blank');
        return;
    }
    
    // localStorageì˜ base64 ë°ì´í„° ì‚¬ìš©
    const fileDataItem = post.fileData ? post.fileData.find(f => f.name === filename) : null;
    if (fileDataItem) {
        if (fileDataItem.url) {
            // Firebase URL
            window.open(fileDataItem.url, '_blank');
        } else if (fileDataItem.data) {
            // base64 ë°ì´í„°
            const link = document.createElement('a');
            link.href = 'data:' + fileDataItem.type + ';base64,' + fileDataItem.data;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        } else {
            alert(`íŒŒì¼ "${filename}" ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
        }
    } else {
        alert(`íŒŒì¼ "${filename}" ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
    }
}
</script>


<div class="partner-logos">
<a href="https://www.g2b.go.kr/" target="_blank">
    <img src="../image/logo1.png" alt="íŒŒíŠ¸ë„ˆ 1">
</a>
<a href="https://shop.g2b.go.kr/" target="_blank">
    <img src="../image/logo2.png" alt="íŒŒíŠ¸ë„ˆ 2">
</a>
    <a href="https://hometax.go.kr/" target="_blank">
    <img src="../image/logo3.png" alt="íŒŒíŠ¸ë„ˆ 3">
</a>
    <a href="https://www.smpp.go.kr" target="_blank">
    <img src="../image/logo4.png" alt="íŒŒíŠ¸ë„ˆ 4">
</a>
    <a href="https://ecosq.or.kr/" target="_blank">
    <img src="../image/logo5.png" alt="íŒŒíŠ¸ë„ˆ 5">
</a>
    <a href="https://www.sgic.co.kr/" target="_blank">
    <img src="../image/logo6.png" alt="íŒŒíŠ¸ë„ˆ 6">
</a>
    <a href="https://si4n.nhis.or.kr/" target="_blank">
    <img src="../image/logo7.png" alt="íŒŒíŠ¸ë„ˆ 7">
</a>
    <a href="https://www.4insure.or.kr/" target="_blank">
    <img src="../image/logo8.png" alt="íŒŒíŠ¸ë„ˆ 8">
</a>
</div>

    <div style="padding: 15px 20px 5px 20px; font-size: 10px; color: #bcbcbc; text-align: left; line-height: 0.5;">
      <p style="text-indent: 20px;">1. ë³¸ í™ˆí˜ì´ì§€ëŠ” ë°ìŠ¤í¬íƒ‘ ë¸Œë¼ìš°ì € ë²„ì „ì— ìµœì í™” ë˜ì–´ìˆìŠµë‹ˆë‹¤. ì›í™œí•œ ì‚¬ìš©ì„ ìœ„í•´ ë°ìŠ¤í¬íƒ‘ ë¸Œë¼ìš°ì € í™˜ê²½ìœ¼ë¡œ ì‚¬ìš©í•´ì£¼ì„¸ìš”.<br></p>
      <p style="text-indent: 20px;">2. í•˜ë‚˜ë¡œì˜¤ì—ì´í¼ë‹ˆì²˜ëŠ” ì¡°ë‹¬ì²­ ë° ê³µê³µê¸°ê´€ ë‚©í’ˆ ì „ìš© ê°€êµ¬ë¥¼ ì „ë¬¸ìœ¼ë¡œ ì œì‘í•˜ëŠ” ê¸°ì—… ì…ë‹ˆë‹¤. ë³¸ í™ˆí˜ì´ì§€ì—ì„œ ì†Œê°œë˜ëŠ” ì œí’ˆë“¤ì€ ì¡°ë‹¬ì²­ ì¢…í•©ì‡¼í•‘ëª° íŒë§¤ ì „ìš©ì…ë‹ˆë‹¤.</p>
    </div>
    
    <footer>
        <p>Copyright Â© 2025 (ì£¼)í•˜ë‚˜ë¡œì˜¤ì—ì´í¼ë‹ˆì²˜. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ . | ë¬¸ì˜ : oa9500@empas.com | ì „í™” : 042-633-9500  |  A/S : 043-731-9511</p>
        <p>ì£¼ì‹íšŒì‚¬ í•˜ë‚˜ë¡œì˜¤ì—ì´í¼ë‹ˆì²˜ | ëŒ€í‘œì´ì‚¬ : ì •ì§„í¬, ì¥ì¸ë• | ì£¼ì†Œ : ëŒ€ì „ê´‘ì—­ì‹œ ëŒ€ë•êµ¬ ì˜¤ì •ë¡œ 41ë²ˆê¸¸ 12 | ì „í™” : 042-633-9500 | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ : 305-81-45158</p>
    </footer>
    
<div id="content-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%);
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border-radius:20px; padding:32px; box-shadow:0 20px 60px rgba(0,0,0,0.3); z-index:9999; max-width:600px; width:90%; max-height:85vh; overflow-y:auto; border: 1px solid rgba(255,255,255,0.2);">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 2px solid #e9ecef;">
    <h3 id="modal-title" style="margin: 0; font-size: 24px; font-weight: 700; background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"></h3>
    <button onclick="closeModal()" style="background: none; border: none; font-size: 24px; color: #6c757d; cursor: pointer; padding: 4px 8px; border-radius: 8px; transition: all 0.2s ease; line-height: 1;">&times;</button>
    <style>
      button[onclick="closeModal()"]:hover {
        background: #f1f3f5;
        color: #495057;
        transform: rotate(90deg);
      }
    </style>
  </div>
  <p id="modal-type" style="font-size:15px; color:#0071e3; margin-bottom:16px; font-weight:600; padding: 10px 16px; background: linear-gradient(135deg, #e7f5ff 0%, #f0f9ff 100%); border-radius: 8px; border-left: 4px solid #0071e3;"></p>
  <p id="modal-content" style="white-space:pre-wrap; line-height:1.8; font-size:15px; color:#495057; background: #fff; padding: 20px; border-radius: 12px; border: 1px solid #e9ecef; margin-bottom: 16px;"></p>

  <!-- ì²¨ë¶€íŒŒì¼ ë° ì´ë¯¸ì§€ ì˜ì—­ -->
  <div id="modal-files" style="font-size: 14px; margin-top: 16px; color: #495057; padding: 12px; background: #f8f9fa; border-radius: 8px;"></div>
  <div id="modal-images" style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 16px; padding: 12px; background: #f8f9fa; border-radius: 8px;"></div>
  <style>
    #modal-images img {
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s ease;
    }
    #modal-images img:hover {
      transform: scale(1.1);
    }
  </style>

  <div style="text-align:right; margin-top:24px; padding-top: 20px; border-top: 2px solid #e9ecef;">
    <button onclick="closeModal()" style="padding:12px 24px; border:none; background: linear-gradient(135deg, #0071e3 0%, #005bb5 100%); color:#fff; border-radius:12px; font-weight:600; cursor:pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);">ë‹«ê¸°</button>
    <style>
      button[onclick="closeModal()"]:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 113, 227, 0.4);
      }
      button[onclick="closeModal()"]:active {
        transform: translateY(0);
      }
    </style>
  </div>
</div>

<div id="modal-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); backdrop-filter: blur(4px); z-index:9998; transition: opacity 0.3s ease;" onclick="closeModal()"></div>

<script>
document.getElementById("as-form").addEventListener("submit", function(event) {
            event.preventDefault();

            const type = document.getElementById('as-type').value;
            const title = document.getElementById('as-title').value.trim();
            const content = document.getElementById('as-content').value.trim();

            if (!type || !title || !content) {
                alert("ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                return;
            }

            // selectedFiles ë°°ì—´ì—ì„œ íŒŒì¼ ê°€ì ¸ì˜¤ê¸° (íŒŒì¼ ì‚­ì œ ê¸°ëŠ¥ì„ ìœ„í•´ ì‚¬ìš©)
            const files = selectedFiles && selectedFiles.length > 0 ? selectedFiles : [];

            // íŒŒì¼ ì²˜ë¦¬
            const fileNames = files.map(f => f.name);
            const fileUrls = []; // Firebase Storage URL ì €ì¥

            if (files.length > 0) {
                // íŒŒì¼ í¬ê¸° ê²€ì¦
                const oversizedFiles = files.filter(f => f.size > 10 * 1024 * 1024);
                if (oversizedFiles.length > 0) {
                    alert(`ë‹¤ìŒ íŒŒì¼ì˜ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. (ìµœëŒ€ 10MB):\n${oversizedFiles.map(f => f.name).join('\n')}`);
                    return;
                }
                
                // Firebase Storageê°€ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸
                if (storage) {
                    // Firebase Storageì— ì—…ë¡œë“œ
                    uploadFilesToFirebase(files, type, title, content, fileNames);
                } else {
                    // Firebaseê°€ ì—†ìœ¼ë©´ localStorage ì‚¬ìš© (ê¸°ì¡´ ë°©ì‹)
                    uploadFilesToLocalStorage(files, type, title, content, fileNames);
                }
            } else {
                // íŒŒì¼ì´ ì—†ëŠ” ê²½ìš° ë°”ë¡œ ì €ì¥
                (async () => {
                    await savePost(type, title, content, fileNames, [], []);
                })();
            }
        });

        // Firebase Storageì— íŒŒì¼ ì—…ë¡œë“œ
        async function uploadFilesToFirebase(files, type, title, content, fileNames) {
            const fileUrls = [];
            const fileData = []; // Firebase ì‚¬ìš© ì‹œì—ë„ ë©”íƒ€ë°ì´í„° ì €ì¥ìš©
            
            try {
                // ëª¨ë“  íŒŒì¼ ì—…ë¡œë“œ
                const uploadPromises = files.map(async (file) => {
                    const timestamp = Date.now();
                    const fileName = `${timestamp}_${file.name}`;
                    const storageRef = storage.ref(`as-files/${fileName}`);
                    
                    // íŒŒì¼ ì—…ë¡œë“œ
                    const snapshot = await storageRef.put(file);
                    
                    // ë‹¤ìš´ë¡œë“œ URL ê°€ì ¸ì˜¤ê¸°
                    const downloadURL = await snapshot.ref.getDownloadURL();
                    
                    return {
                        name: file.name,
                        url: downloadURL,
                        type: file.type,
                        size: file.size
                    };
                });
                
                const uploadedFiles = await Promise.all(uploadPromises);
                
                uploadedFiles.forEach(file => {
                    fileUrls.push(file.url);
                    fileData.push({
                        name: file.name,
                        url: file.url,
                        type: file.type,
                        size: file.size
                    });
                });
                
                // ê²Œì‹œê¸€ ì €ì¥
                await savePost(type, title, content, fileNames, fileData, fileUrls);
                
            } catch (error) {
                console.error('íŒŒì¼ ì—…ë¡œë“œ ì˜¤ë¥˜:', error);
                alert('íŒŒì¼ ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\n' + error.message);
            }
        }

        // localStorageì— íŒŒì¼ ì €ì¥ (Firebase ë¯¸ì‚¬ìš© ì‹œ)
        async function uploadFilesToLocalStorage(files, type, title, content, fileNames) {
            const fileData = [];
            let processedFiles = 0;
            let hasError = false;
            
            files.forEach((file, index) => {
  const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const base64Data = e.target.result.split(',')[1];
                        fileData.push({
                            name: file.name,
                            type: file.type,
                            data: base64Data
                        });
                    } catch (err) {
                        console.error('íŒŒì¼ ì²˜ë¦¬ ì˜¤ë¥˜:', err);
                        hasError = true;
                    }
                    processedFiles++;

                    if (processedFiles === files.length) {
                        // ëª¨ë“  íŒŒì¼ ì²˜ë¦¬ ì™„ë£Œ í›„ ì €ì¥
                        if (!hasError) {
                            (async () => {
                                await savePost(type, title, content, fileNames, fileData, []);
                            })();
      } else {
                            alert('íŒŒì¼ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                        }
                    }
                };
                reader.onerror = function(error) {
                    console.error('íŒŒì¼ ì½ê¸° ì˜¤ë¥˜:', error);
                    hasError = true;
                    processedFiles++;
                    if (processedFiles === files.length) {
                        if (!hasError) {
                            (async () => {
                                await savePost(type, title, content, fileNames, fileData, []);
                            })();
                        } else {
                            alert('íŒŒì¼ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                        }
                    }
  };
  reader.readAsDataURL(file);
});
        }

        async function savePost(type, title, content, fileNames, fileData, fileUrls) {
            const newPost = {
                type: type,
                title: title,
                content: content,
                date: new Date().toLocaleDateString('ko-KR'),
                files: fileNames,
                fileData: fileData || [],
                fileUrls: fileUrls || [] // Firebase Storage URL
            };

            asPosts.unshift(newPost);
            
            // Firestoreì— ì €ì¥
            const saved = await saveAsPosts(asPosts);
            
            if (saved) {
                // ì €ì¥ ì„±ê³µ í›„ ìµœì‹  ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ (ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œë„ ë³´ì´ë„ë¡)
                try {
                    const latestPosts = await loadAsPosts();
                    if (latestPosts && Array.isArray(latestPosts)) {
                        asPosts = latestPosts;
                    }
                } catch (error) {
                    console.error('ìµœì‹  ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                }
            }
            
            currentPage = 1;
            
            // í¼ ì´ˆê¸°í™” ë° ìˆ¨ê¸°ê¸°
            document.getElementById('as-form').reset();
            document.getElementById('image-preview').innerHTML = '';
            // selectedFiles ë°°ì—´ë„ ì´ˆê¸°í™”
            selectedFiles = [];
            // íŒŒì¼ inputë„ ì´ˆê¸°í™”
            const imageUpload = document.getElementById('image-upload');
            if (imageUpload) {
                imageUpload.value = '';
            }
            toggleAsForm();
            
            // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
            renderAsPosts();
            
            alert("A/S ì‹ ì²­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
}
</script>

</body>
</html>
